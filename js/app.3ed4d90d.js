(function(){var e={3119:function(e,t,a){"use strict";a.d(t,{x:function(){return za}});a(560);var o=a(9242),s=a(1076),n=a(3396);const r={id:"app"},i={class:"main container"};function l(e,t,a,o,s,l){const d=(0,n.up)("NavBar"),u=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.Wm)(d),(0,n._)("div",i,[(0,n.Wm)(u)])])}var d=a(65),u=a(2483);const c=e=>((0,n.dD)("data-v-b2c6df24"),e=e(),(0,n.Cn)(),e),p={class:"navbar navbar-expand-md navbar-dark bg-dark"},m={class:"container"},b=c((()=>(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1))),h={class:"collapse navbar-collapse",id:"navbarCollapse"},f={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},g={class:"nav-item"},w={class:"nav-item"},_={class:"nav-item"},y={class:"nav-item"},v={class:"nav-item"},k={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},j={class:"nav-item"},C={class:"nav-item"},U={class:"nav-item"};function D(e,t,a,o,s,r){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("header",null,[(0,n._)("nav",p,[(0,n._)("div",m,[(0,n.Wm)(i,{class:"navbar-brand",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("DECODE OpenCloud")])),_:1}),b,(0,n._)("div",h,[e.isLoggedIn?((0,n.wg)(),(0,n.iD)("ul",f,[(0,n._)("li",g,[(0,n.Wm)(i,{class:"nav-link",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1})]),(0,n._)("li",w,[(0,n.Wm)(i,{class:"nav-link",to:"/files"},{default:(0,n.w5)((()=>[(0,n.Uk)("Files")])),_:1})]),(0,n._)("li",_,[(0,n.Wm)(i,{class:"nav-link",to:"/jobs"},{default:(0,n.w5)((()=>[(0,n.Uk)("Jobs")])),_:1})]),(0,n._)("li",y,[(0,n.Wm)(i,{class:"nav-link",to:"/profile"},{default:(0,n.w5)((()=>[(0,n.Uk)("Profile")])),_:1})]),(0,n._)("li",v,[(0,n._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"Log Out")])])):((0,n.wg)(),(0,n.iD)("ul",k,[(0,n._)("li",j,[(0,n.Wm)(i,{class:"nav-link",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1})]),(0,n._)("li",C,[(0,n.Wm)(i,{class:"nav-link",to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Register")])),_:1})]),(0,n._)("li",U,[(0,n.Wm)(i,{class:"nav-link",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Log In")])),_:1})])]))])])])])}var F=(0,n.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),M=a(89);const V=(0,M.Z)(F,[["render",D],["__scopeId","data-v-b2c6df24"]]);var P=V,E={setup(){const e=(0,d.oR)(),t=(0,u.tv)();(0,n.bv)((()=>{e.dispatch("viewMe").then((()=>{e.state.user&&t.push("/home")}))}))},components:{NavBar:P}};const S=(0,M.Z)(E,[["render",l]]);var x=S,I=a(7429),J=a(4517);const O={key:0,id:"logout"},q={id:"logout"},A={id:"logout"},z={key:1},$=(0,n._)("span",null," or ",-1);function N(e,t,a,o,s,r){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",null,[e.isLoggedIn?((0,n.wg)(),(0,n.iD)("div",O,[(0,n._)("p",q,[(0,n.Uk)("Click "),(0,n.Wm)(i,{to:"/files"},{default:(0,n.w5)((()=>[(0,n.Uk)("here")])),_:1}),(0,n.Uk)(" to view your files.")]),(0,n._)("p",A,[(0,n.Uk)("Click "),(0,n.Wm)(i,{to:"/jobs"},{default:(0,n.w5)((()=>[(0,n.Uk)("here")])),_:1}),(0,n.Uk)(" to view your jobs.")])])):((0,n.wg)(),(0,n.iD)("p",z,[(0,n._)("span",null,[(0,n.Wm)(i,{to:"/register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Register")])),_:1})]),$,(0,n._)("span",null,[(0,n.Wm)(i,{to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)("Log In")])),_:1})])]))])}var Z=(0,n.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}});const T=(0,M.Z)(Z,[["render",N]]);var W=T,R=a(7139);const H={class:"mb-3"},L=(0,n._)("label",{for:"username",class:"form-label"},"Email address:",-1),B={class:"mb-3"},Y=(0,n._)("label",{for:"password",class:"form-label"},"Password:",-1),K={class:"mb-3"},G=(0,n._)("label",{for:"repeat_password",class:"form-label"},"Repeat password:",-1),Q={class:"mb-3"},X=(0,n._)("label",{for:"request_details",class:"form-label"},"Request details:",-1),ee=(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Send verification code",-1),te={key:0,class:"error"};function ae(e,t,a,s,r,i){return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,n._)("div",H,[L,(0,n.wy)((0,n._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[o.nr,e.form.username]])]),(0,n._)("div",B,[Y,(0,n.wy)((0,n._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),class:"form-control"},null,512),[[o.nr,e.form.password]])]),(0,n._)("div",K,[G,(0,n.wy)((0,n._)("input",{type:"password",name:"repeat_password","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.repeat_password=t),class:"form-control"},null,512),[[o.nr,e.form.repeat_password]])]),(0,n._)("div",Q,[X,(0,n.wy)((0,n._)("textarea",{name:"request_details","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.request_details=t),class:"form-control",maxlength:"2000"},null,512),[[o.nr,e.form.request_details]])]),ee,e.errorMessage?((0,n.wg)(),(0,n.iD)("div",te,(0,R.zw)(e.errorMessage),1)):(0,n.kq)("",!0)],32)])}var oe=(0,n.aZ)({name:"Register",data(){return{form:{username:"",password:"",repeat_password:"",request_details:""},errorMessage:""}},methods:{...(0,d.nv)(["register"]),async submit(){if(this.form.password===this.form.repeat_password)try{console.log(this.form.request_details),await this.register({username:this.form.username,password:this.form.password,request_details:this.form.request_details?this.form.request_details:"none"}),this.$router.push("/confirm-email/"+this.form.username)}catch(e){"UserNotConfirmedException"===e.code&&this.$router.push("/confirm-email/"+this.form.username),console.log(e),this.errorMessage=e}else this.errorMessage="Passwords do not match"}}});const se=(0,M.Z)(oe,[["render",ae]]);var ne=se;const re={class:"mb-3"},ie=(0,n._)("label",{for:"verificationCode",class:"form-label"},"Verification code:",-1),le=(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Verify email",-1),de={key:0,class:"error"};function ue(e,t,a,s,r,i){return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,n._)("div",re,[ie,(0,n.wy)((0,n._)("input",{type:"text",name:"verificationCode","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.verificationCode=t),class:"form-control"},null,512),[[o.nr,e.form.verificationCode]]),(0,n._)("a",{href:"#",onClick:t[1]||(t[1]=(0,o.iM)(((...t)=>e.resendVerificationCode&&e.resendVerificationCode(...t)),["prevent"])),class:"btn btn-link"},"Re-send verification code")]),le,e.errorMessage?((0,n.wg)(),(0,n.iD)("div",de,(0,R.zw)(e.errorMessage),1)):(0,n.kq)("",!0)],32)])}var ce=(0,n.aZ)({name:"ConfirmEmail",data(){return{form:{verificationCode:""},username:"",errorMessage:""}},created(){this.username=this.$route.params.username},methods:{...(0,d.nv)(["verify","sendConfirmationCode"]),async submit(){try{await this.verify({username:this.username,code:this.form.verificationCode}),this.$router.push("/user-not-confirmed")}catch(e){console.log(e),this.errorMessage=e}},async resendVerificationCode(){try{await this.sendConfirmationCode(this.username)}catch(e){console.log(e),this.errorMessage=e}}}});const pe=(0,M.Z)(ce,[["render",ue]]);var me=pe;function be(e,t,a,o,s,r){return(0,n.wg)(),(0,n.iD)("section",null," Your account has still not been accepted by an administrator. ")}var he=(0,n.aZ)({name:"UserNotConfirmed"});const fe=(0,M.Z)(he,[["render",be]]);var ge=fe;const we={class:"mb-3"},_e=(0,n._)("label",{for:"username",class:"form-label"},"Email address:",-1),ye={class:"mb-3"},ve=(0,n._)("label",{for:"password",class:"form-label"},"Password:",-1),ke=(0,n._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),je={key:0,class:"error"};function Ce(e,t,a,s,r,i){const l=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,n._)("div",we,[_e,(0,n.wy)((0,n._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[o.nr,e.form.username]])]),(0,n._)("div",ye,[ve,(0,n.wy)((0,n._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),class:"form-control"},null,512),[[o.nr,e.form.password]])]),(0,n._)("div",null,[(0,n.Wm)(l,{to:"/forgot-password",class:"btn btn-link"},{default:(0,n.w5)((()=>[(0,n.Uk)("Forgot password?")])),_:1})]),ke,e.errorMessage?((0,n.wg)(),(0,n.iD)("div",je,(0,R.zw)(e.errorMessage),1)):(0,n.kq)("",!0)],32)])}var Ue=(0,n.aZ)({name:"Login",data(){return{form:{username:"",password:""},errorMessage:""}},methods:{...(0,d.nv)(["logIn"]),async submit(){try{await this.logIn({username:this.form.username,password:this.form.password}),this.$router.push("/")}catch(e){"UserNotConfirmedException"===e.code?this.$router.push("/confirm-email/"+this.form.username):(console.log(e),this.errorMessage=e)}}}});const De=(0,M.Z)(Ue,[["render",Ce]]);var Fe=De;const Me={key:0,class:"mb-3"},Ve=(0,n._)("label",{for:"username",class:"form-label"},"Email address:",-1),Pe=["disabled"],Ee={key:1,class:"mb-3"},Se=(0,n._)("label",{for:"code",class:"form-label"},"Verification code:",-1),xe={key:2,class:"mb-3"},Ie=(0,n._)("label",{for:"password",class:"form-label"},"New password:",-1),Je={key:3,class:"mb-3"},Oe=(0,n._)("label",{for:"repeat_password",class:"form-label"},"Repeat new password:",-1),qe={key:4,type:"submit",class:"btn btn-primary"},Ae={key:5,class:"error"};function ze(e,t,a,s,r,i){return(0,n.wg)(),(0,n.iD)("section",null,[(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[e.isVerificationCodeSent?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Me,[Ve,(0,n.wy)((0,n._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[o.nr,e.form.username]]),(0,n._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.sendVerificationCode&&e.sendVerificationCode(...t)),class:"btn btn-primary",disabled:e.isVerificationCodeSent},"Send verification code",8,Pe)])),e.isVerificationCodeSent?((0,n.wg)(),(0,n.iD)("div",Ee,[Se,(0,n.wy)((0,n._)("input",{type:"text",name:"code","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.code=t),class:"form-control"},null,512),[[o.nr,e.form.code]])])):(0,n.kq)("",!0),e.isVerificationCodeSent?((0,n.wg)(),(0,n.iD)("div",xe,[Ie,(0,n.wy)((0,n._)("input",{type:"password",name:"password","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),class:"form-control"},null,512),[[o.nr,e.form.password]])])):(0,n.kq)("",!0),e.isVerificationCodeSent?((0,n.wg)(),(0,n.iD)("div",Je,[Oe,(0,n.wy)((0,n._)("input",{type:"password",name:"repeat_password","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.repeat_password=t),class:"form-control"},null,512),[[o.nr,e.form.repeat_password]])])):(0,n.kq)("",!0),e.isVerificationCodeSent?((0,n.wg)(),(0,n.iD)("button",qe,"Save")):(0,n.kq)("",!0),e.errorMessage?((0,n.wg)(),(0,n.iD)("div",Ae,(0,R.zw)(e.errorMessage),1)):(0,n.kq)("",!0)],32)])}var $e=(0,n.aZ)({name:"ForgotPassword",data(){return{form:{username:"",code:"",password:"",repeat_password:""},errorMessage:"",isVerificationCodeSent:!1}},methods:{...(0,d.nv)(["forgotPassword","resetPassword","logIn"]),async submit(){if(this.form.password===this.form.repeat_password)try{console.log("view",this.form.username,this.form.code,this.form.password),await this.resetPassword({username:this.form.username,code:this.form.code,password:this.form.password}),await this.logIn({username:this.form.username,password:this.form.password}),this.$router.push("/")}catch(e){console.log(e),this.errorMessage=e}else this.errorMessage="Passwords do not match"},async sendVerificationCode(){try{await this.forgotPassword(this.form.username),this.isVerificationCodeSent=!0}catch(e){console.log(e),this.errorMessage=e}}}});const Ne=(0,M.Z)($e,[["render",ze]]);var Ze=Ne;const Te=(0,n._)("h1",null,"Files",-1),We=["disabled"],Re={key:0},He=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Type"),(0,n._)("th",null,"Name"),(0,n._)("th",null,"Size")])],-1),Le=["onDblclick"],Be=["value","onChange"],Ye=["onClick"],Ke=["onClick"],Ge={key:0,class:"error-message"};function Qe(e,t,a,s,r,i){return(0,n.wg)(),(0,n.iD)(n.HY,null,[Te,(0,n._)("div",null,[(0,n._)("header",null,[(0,n._)("button",{onClick:t[0]||(t[0]=(...t)=>e.goUp&&e.goUp(...t)),disabled:""===e.path},"Back",8,We),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.path=t),placeholder:"Path"},null,512),[[o.nr,e.path]]),(0,n._)("button",{class:"btn-flat",onClick:t[2]||(t[2]=(...t)=>e.createFolder&&e.createFolder(...t))},"Create Folder"),(0,n._)("button",{onClick:t[3]||(t[3]=(...t)=>e.uploadSingleFile&&e.uploadSingleFile(...t))},"Upload File"),(0,n._)("button",{onClick:t[4]||(t[4]=(...t)=>e.uploadDirectory&&e.uploadDirectory(...t))},"Upload Directory"),e.uploadingFile?((0,n.wg)(),(0,n.iD)("p",Re,"Uploading: "+(0,R.zw)(e.uploadingFile),1)):(0,n.kq)("",!0),(0,n._)("input",{type:"file",id:"fileInput",onChange:t[5]||(t[5]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32),(0,n._)("input",{type:"file",id:"directoryInput",webkitdirectory:"",multiple:"",onChange:t[6]||(t[6]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32)]),(0,n._)("main",null,[(0,n._)("table",null,[He,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.files,((t,a)=>((0,n.wg)(),(0,n.iD)("tr",{key:a,onDblclick:o=>e.openAction(a,t)},[(0,n._)("td",null,(0,R.zw)(t.type),1),(0,n._)("td",null,[(0,n._)("input",{type:"text",value:t.path.replace(this.path,""),onChange:a=>e.renameItem(t.path,a.target.value)},null,40,Be)]),(0,n._)("td",null,(0,R.zw)("directory"===t.type?"-":t.size),1),(0,n._)("td",null,[(0,n._)("button",{onClick:a=>e.deleteItem(t.path)},"Delete",8,Ye)]),(0,n._)("td",null,[(0,n._)("button",{onClick:a=>e.downloadItem(t)},"Download",8,Ke)])],40,Le)))),128))])])])]),e.errorMessage?((0,n.wg)(),(0,n.iD)("p",Ge,(0,R.zw)(e.errorMessage),1)):(0,n.kq)("",!0)],64)}a(8858),a(1318),a(3228);var Xe=a(4730),et=a.n(Xe),tt={async getFiles(e){return e=e||"/",await za.get(`/files/${e}?show_dirs=True&recursive=False`)},async createFolder(e){return await za.post(`/files/${e}/`)},async uploadFile(e,t){let a=await za.post(`/files/${e}url`),o=new FormData;"key"in a.data["data"]&&o.append("key",a.data["data"]["key"]);for(let s in a.data["data"])"key"!==s&&o.append(s,a.data["data"][s]);for(let s of t.entries())o.append(s[0],s[1]);return await s.Z.post(a.data.url,o,{headers:a.data.headers||{}})},async deleteItem(e){return await za.delete(`/files/${e}`)},async renameItem(e,t){return await za.put(`/files/${e}`,{path:t})},async downloadFile(e){let t=await za.get(`/files/${e}/url`);return await s.Z.get(t.data.url,{headers:t.data.headers||{},responseType:"arraybuffer"})},async downloadItem(e){const t=e.path;if("directory"===e.type){let a=new(et()),o=await za.get(`/files/${t}`,{params:{show_dirs:!1,recursive:!0}});for(let t of o.data){let o=await this.downloadFile(t.path);a.file(t.path.replace(e.path,""),o.data)}let s=await a.generateAsync({type:"blob"});const n=window.URL.createObjectURL(s),r=document.createElement("a");r.href=n;let i=t.split("/");r.setAttribute("download",i[i.length-2]+".zip"),document.body.appendChild(r),r.click()}else{let e=await this.downloadFile(t);const a=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",t.split("/").pop()),document.body.appendChild(o),o.click()}}},at=(0,n.aZ)({name:"FilesView",data(){return{path:"",files:[],uploadingFile:null,errorMessage:""}},methods:{openAction:function(e,t){"directory"===t.type&&(this.path=t.path,this.fetchFiles())},fetchFiles(){tt.getFiles(this.path).then((e=>{this.files=e.data})).catch((e=>{this.errorMessage="Error fetching files: "+e.message}))},goUp(){let e=this.path.trimEnd("/").split("/").filter(Boolean);e.pop(),this.path=e.join("/"),""!=this.path&&(this.path=this.path+"/"),this.fetchFiles()},createFolder(){tt.createFolder(this.path+"new").then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error creating folder: "+e.message}))},uploadSingleFile(){document.getElementById("fileInput").click()},uploadDirectory(){document.getElementById("directoryInput").click()},handleUpload(e){const t=e.target.files;for(let a=0;a<t.length;a++){let e=t[a],o=e.webkitRelativePath||e.name,s=o.split("/");s.pop();let n=s.join("/")+"/";this.uploadFile(e,this.path+n)}},uploadFile(e,t){this.uploadingFile=e.name;let a=new FormData;a.append("file",e),tt.uploadFile(t,a).then((()=>{this.fetchFiles(),this.uploadingFile=null})).catch((e=>{this.uploadingFile=null,this.errorMessage="Error uploading: "+e.message}))},downloadItem(e){tt.downloadItem(e).catch((e=>{this.errorMessage="Error downloading: "+e.message}))},deleteItem(e){tt.deleteItem(e).then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error deleting: "+e.message}))},renameItem(e,t){let a=this.path.trimEnd("/")+"/"+t;tt.renameItem(e,a).then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error renaming: "+e.message}))}},mounted(){this.fetchFiles()}});const ot=(0,M.Z)(at,[["render",Qe]]);var st=ot;const nt=(0,n._)("h1",null,"Your Profile",-1),rt=(0,n._)("hr",null,null,-1),it=(0,n._)("br",null,null,-1),lt=(0,n._)("strong",null,"Email address:",-1),dt=(0,n._)("strong",null,"Groups:",-1);function ut(e,t,a,o,s,r){return(0,n.wg)(),(0,n.iD)("section",null,[nt,rt,it,(0,n._)("div",null,[(0,n._)("p",null,[lt,(0,n.Uk)(),(0,n._)("span",null,(0,R.zw)(e.user.email),1)]),(0,n._)("p",null,[dt,(0,n.Uk)(),(0,n._)("span",null,(0,R.zw)(e.user.groups),1)])])])}var ct=(0,n.aZ)({name:"Profile",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,d.Se)({user:"stateUser"})},methods:{}});const pt=(0,M.Z)(ct,[["render",ut]]);var mt=pt;const bt={class:"job-list-section"},ht=(0,n._)("h1",null,"Jobs",-1),ft=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Job Name"),(0,n._)("th",null,"Status"),(0,n._)("th",null,"Creation Time"),(0,n._)("th",null,"Application"),(0,n._)("th",null,"Actions")])],-1),gt=["onClick"],wt=["onClick"],_t=["disabled"],yt=["disabled"],vt={key:0,class:"job-details-section"},kt=(0,n._)("h2",null,"Job Details",-1);function jt(e,t,a,o,s,r){const i=(0,n.up)("job-details-tree");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",bt,[ht,(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>r.goToJobCreationForm&&r.goToJobCreationForm(...e)),style:{"margin-bottom":"10px"}},"+New Job"),(0,n._)("table",null,[ft,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.jobs,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,R.zw)(e.job_name),1),(0,n._)("td",null,(0,R.zw)(e.status),1),(0,n._)("td",null,(0,R.zw)(e.date_created),1),(0,n._)("td",null,(0,R.zw)(e.application.application)+" > "+(0,R.zw)(e.application.version)+" > "+(0,R.zw)(e.application.entrypoint),1),(0,n._)("td",null,[(0,n._)("button",{onClick:t=>r.getJobDetails(e.id)},"Details",8,gt),(0,n._)("button",{onClick:t=>r.deleteJob(e.id)},"Delete",8,wt)])])))),128))])]),(0,n._)("button",{onClick:t[1]||(t[1]=e=>r.changePage(s.currentPage-1)),disabled:s.currentPage<=1},"Previous",8,_t),(0,n._)("button",{onClick:t[2]||(t[2]=e=>r.changePage(s.currentPage+1)),disabled:!s.canGoToNextPage},"Next",8,yt)]),s.selectedJob?((0,n.wg)(),(0,n.iD)("div",vt,[kt,(0,n.Wm)(i,{data:s.selectedJob},null,8,["data"])])):(0,n.kq)("",!0)])}var Ct={async createJob(e){return await za.post("/jobs",e)},async getJobs(e,t){return await za.get(`/jobs?offset=${e}&limit=${t}`)},async getJobDetails(e){return await za.get(`/jobs/${e}`)},async deleteJob(e){return await za.delete(`/jobs/${e}`)},async getApplications(){return await za.get("/jobs/applications")}};const Ut={key:0,class:"tree-node"},Dt=["onClick"],Ft={class:"toggle-icon"},Mt={key:1,class:"tree-item-row"},Vt={class:"tree-item-value"},Pt={key:2,class:"tree-item-content"};function Et(e,t,a,o,s,r){const i=(0,n.up)("job-details-tree",!0);return r.isObject(a.data)?((0,n.wg)(),(0,n.iD)("div",Ut,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.data,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"tree-item"},[r.isObject(e)?((0,n.wg)(),(0,n.iD)("div",{key:0,onClick:e=>r.toggle(t),class:"tree-item-label"},[(0,n._)("span",Ft,(0,R.zw)(r.isExpanded(t)?"-":"+"),1),(0,n._)("strong",null,(0,R.zw)(t)+":",1)],8,Dt)):((0,n.wg)(),(0,n.iD)("div",Mt,[(0,n._)("strong",null,(0,R.zw)(t)+":",1),(0,n._)("div",Vt,(0,R.zw)(e),1)])),r.isObject(e)&&r.isExpanded(t)?((0,n.wg)(),(0,n.iD)("div",Pt,[(0,n.Wm)(i,{data:e},null,8,["data"])])):(0,n.kq)("",!0)])))),128))])):(0,n.kq)("",!0)}var St={name:"JobDetailsTree",props:{data:[Object,Array,String,Number,Boolean]},data(){return{expandedNodes:{}}},methods:{isObject(e){return e&&"object"===typeof e},toggle(e){this.expandedNodes[e]=!this.expandedNodes[e]},isExpanded(e){return!!this.expandedNodes[e]}}};const xt=(0,M.Z)(St,[["render",Et]]);var It=xt,Jt={data(){return{jobs:[],selectedJob:null,currentPage:1,limit:20,canGoToNextPage:!0}},methods:{goToJobCreationForm(){this.$router.push("/jobs/new")},async fetchJobs(){try{const e=(this.currentPage-1)*this.limit,t=await Ct.getJobs(e,this.limit);this.jobs=t.data,this.canGoToNextPage=this.jobs.length===this.limit}catch(e){console.error(e)}},async getJobDetails(e){try{const t=await Ct.getJobDetails(e);this.selectedJob=t.data}catch(t){console.error(t)}},async deleteJob(e){try{await Ct.deleteJob(e),this.fetchJobs()}catch(t){console.error(t)}},changePage(e){e<1||(this.currentPage=e,this.fetchJobs())}},components:{JobDetailsTree:It},mounted(){this.fetchJobs()}};const Ot=(0,M.Z)(Jt,[["render",jt]]);var qt=Ot;const At=e=>((0,n.dD)("data-v-7d969c12"),e=e(),(0,n.Cn)(),e),zt={class:"form-group"},$t=At((()=>(0,n._)("h2",null,"Submit New Job",-1))),Nt=At((()=>(0,n._)("label",{class:"form-label",for:"jobName"},"Job Name",-1))),Zt=At((()=>(0,n._)("label",{class:"form-label"},"Application",-1))),Tt={class:"sub-group"},Wt=At((()=>(0,n._)("label",{class:"form-sublabel"},"Application",-1))),Rt=["value"],Ht=At((()=>(0,n._)("label",{class:"form-sublabel"},"Version",-1))),Lt=["value"],Bt=At((()=>(0,n._)("label",{class:"form-sublabel"},"Entrypoint",-1))),Yt=["value"],Kt={class:"form-group"},Gt=At((()=>(0,n._)("label",{class:"form-label"},"Input",-1))),Qt={class:"sub-group"},Xt=At((()=>(0,n._)("label",{class:"form-sublabel"},"Configuration",-1))),ea=["value"],ta={class:"sub-group",style:{display:"flex","align-items":"center"}},aa=At((()=>(0,n._)("label",{class:"form-sublabel"},"Data",-1))),oa={class:"sub-group",style:{display:"flex","align-items":"center"}},sa=At((()=>(0,n._)("label",{class:"form-sublabel"},"Artifacts",-1))),na={class:"sub-group",style:{display:"flex","align-items":"center"}},ra=At((()=>(0,n._)("label",{class:"form-sublabel"},"Environment Variables",-1))),ia={class:"form-subsublabel"},la=["placeholder","onUpdate:modelValue"],da={class:"form-group"},ua=At((()=>(0,n._)("label",{class:"form-label"},"Runtime",-1))),ca={class:"sub-group"},pa=At((()=>(0,n._)("label",{class:"form-sublabel"},"Hardware Specs",-1))),ma={class:"sub-group"},ba=At((()=>(0,n._)("label",{class:"form-sublabel",for:"environment"},"Environment",-1))),ha=At((()=>(0,n._)("option",{disabled:"",value:""},"Select environment",-1))),fa=At((()=>(0,n._)("option",{value:"cloud"},"cloud",-1))),ga=At((()=>(0,n._)("option",{value:"local"},"local",-1))),wa=At((()=>(0,n._)("option",{value:"null"},"any",-1))),_a=[ha,fa,ga,wa],ya={class:"sub-group"},va=At((()=>(0,n._)("label",{class:"form-sublabel",for:"priority"},"Priority",-1))),ka=At((()=>(0,n._)("button",{type:"submit"},"Submit Job",-1))),ja=["innerHTML"];function Ca(e,t,a,s,r,i){const l=(0,n.up)("b-form-select");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("form",{onSubmit:t[16]||(t[16]=(0,o.iM)(((...e)=>i.submitJob&&i.submitJob(...e)),["prevent"]))},[(0,n._)("div",zt,[$t,(0,n._)("div",null,[Nt,(0,n.wy)((0,n._)("input",{type:"text",id:"jobName","onUpdate:modelValue":t[0]||(t[0]=e=>r.job.job_name=e)},null,512),[[o.nr,r.job.job_name]])]),(0,n._)("div",null,[Zt,(0,n._)("div",Tt,[Wt,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.job.application.application=e),onChange:t[2]||(t[2]=(...e)=>i.fetchVersions&&i.fetchVersions(...e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.applications,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,R.zw)(t),9,Rt)))),128))],544),[[o.bM,r.job.application.application]]),Ht,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.job.application.version=e),onChange:t[4]||(t[4]=(...e)=>i.fetchEntrypoints&&i.fetchEntrypoints(...e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.versions,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,R.zw)(t),9,Lt)))),128))],544),[[o.bM,r.job.application.version]]),Bt,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.job.application.entrypoint=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.entrypoints,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:t},(0,R.zw)(t),9,Yt)))),128))],512),[[o.bM,r.job.application.entrypoint]])])])]),(0,n._)("div",Kt,[Gt,(0,n._)("div",Qt,[Xt,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>r.job.attributes.files_down.config_id=e)},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.configFiles,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:e},(0,R.zw)(e),9,ea)))),128))],512),[[o.bM,r.job.attributes.files_down.config_id]])]),(0,n._)("div",ta,[aa,(0,n.Wm)(l,{modelValue:r.job.attributes.files_down.data_ids,"onUpdate:modelValue":t[7]||(t[7]=e=>r.job.attributes.files_down.data_ids=e),options:r.dataFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,n._)("div",oa,[sa,(0,n.Wm)(l,{modelValue:r.job.attributes.files_down.artifact_ids,"onUpdate:modelValue":t[8]||(t[8]=e=>r.job.attributes.files_down.artifact_ids=e),options:r.artifactFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,n._)("div",na,[ra,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.environs,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n._)("label",ia,(0,R.zw)(e),1),(0,n.wy)((0,n._)("input",{type:"text",placeholder:e,"onUpdate:modelValue":t=>r.job.attributes.env_vars[e]=t},null,8,la),[[o.nr,r.job.attributes.env_vars[e]]])])))),128))])]),(0,n._)("div",da,[ua,(0,n._)("div",ca,[pa,(0,n.wy)((0,n._)("input",{type:"number",placeholder:"CPU Cores","onUpdate:modelValue":t[9]||(t[9]=e=>r.job.hardware.cpu_cores=e)},null,512),[[o.nr,r.job.hardware.cpu_cores,void 0,{number:!0}]]),(0,n.wy)((0,n._)("input",{type:"number",placeholder:"Memory","onUpdate:modelValue":t[10]||(t[10]=e=>r.job.hardware.memory=e)},null,512),[[o.nr,r.job.hardware.memory,void 0,{number:!0}]]),(0,n.wy)((0,n._)("input",{type:"text",placeholder:"GPU Model","onUpdate:modelValue":t[11]||(t[11]=e=>r.job.hardware.gpu_model=e)},null,512),[[o.nr,r.job.hardware.gpu_model]]),(0,n.wy)((0,n._)("input",{type:"text",placeholder:"GPU Architecture","onUpdate:modelValue":t[12]||(t[12]=e=>r.job.hardware.gpu_archi=e)},null,512),[[o.nr,r.job.hardware.gpu_archi]]),(0,n.wy)((0,n._)("input",{type:"number",placeholder:"GPU Memory","onUpdate:modelValue":t[13]||(t[13]=e=>r.job.hardware.gpu_mem=e)},null,512),[[o.nr,r.job.hardware.gpu_mem,void 0,{number:!0}]])]),(0,n._)("div",ma,[ba,(0,n.wy)((0,n._)("select",{id:"environment","onUpdate:modelValue":t[14]||(t[14]=e=>r.job.environment=e)},_a,512),[[o.bM,r.job.environment]])]),(0,n._)("div",ya,[va,(0,n.wy)((0,n._)("input",{type:"number",id:"priority","onUpdate:modelValue":t[15]||(t[15]=e=>r.job.priority=e)},null,512),[[o.nr,r.job.priority,void 0,{number:!0}]])])]),ka],32),r.errorMessage?((0,n.wg)(),(0,n.iD)("div",{key:0,innerHTML:r.errorMessage,class:"error-message"},null,8,ja)):(0,n.kq)("",!0)],64)}var Ua=a(2026),Da={data(){return{job:{job_name:null,environment:null,priority:null,application:{application:null,version:null,entrypoint:null},attributes:{files_down:{config_id:null,data_ids:[],artifact_ids:[]},env_vars:{}},hardware:{cpu_cores:null,memory:null,gpu_model:null,gpu_archi:null,gpu_mem:null}},applications:{},versions:{},entrypoints:{},environs:{},configFiles:[],dataFiles:[],artifactFiles:[],errorMessage:null}},components:{BFormSelect:Ua.KB},methods:{async fetchApplications(){const e=await Ct.getApplications();this.applications=e.data},fetchVersions(){""!=this.job.application.application&&(this.versions=this.applications[this.job.application.application])},fetchEntrypoints(){""!=this.job.application.version&&(this.entrypoints=this.versions[this.job.application.version])},fetchEnvirons(){""!=this.job.application.entrypoint&&(this.environs=this.entrypoints[this.job.application.entrypoint]["app"]["env"])},async fetchInputFiles(){const e=await tt.getFiles("config/");this.configFiles=e.data.map((e=>e.path.replace("config/","")));const t=await tt.getFiles("data/");this.dataFiles=t.data.map((e=>e.path.replace("data/","")));const a=await tt.getFiles("artifact/");this.artifactFiles=a.data.map((e=>e.path.replace("artifact/","")))},submitJob(){Ct.createJob(this.job).then((()=>{this.$router.push("/jobs")})).catch((e=>{422===e.response.status?this.errorMessage="Error(s) in job definition:"+e.response.data.detail.map((e=>{const t=e.loc.filter((e=>"body"!==e)).join(".");return`<br> - ${t}: ${e.msg}`})).join(""):this.errorMessage=e.response.data.detail}))}},watch:{"job.application.application":function(e,t){e!==t&&this.fetchVersions()},"job.application.version":function(e,t){e!==t&&this.fetchEntrypoints()},"job.application.entrypoint":function(e,t){e!==t&&this.fetchEnvirons()}},created(){this.fetchApplications(),this.fetchInputFiles()}};const Fa=(0,M.Z)(Da,[["render",Ca],["__scopeId","data-v-7d969c12"]]);var Ma=Fa;const Va={user:null},Pa={isAuthenticated:e=>!!e.user,stateUser:e=>e.user},Ea={async logIn({dispatch:e},t){await J.g.signIn({username:t.username,password:t.password}),e("viewMe")},async viewMe({commit:e}){try{let{data:t}=await za.get("user");await e("setUser",t)}catch(t){t.response&&403==t.response.status?qa.push("/user-not-confirmed"):Promise.reject(t)}},async logOut({commit:e}){await J.g.signOut(),await e("logout",null)},async forgotPassword(e,t){await J.g.forgotPassword(t)},async resetPassword(e,t){await J.g.forgotPasswordSubmit(t.username,t.code,t.password)},async register(e,t){await J.g.signUp({username:t.username,password:t.password,attributes:{email:t.username,"custom:request_details":t.request_details}})},async sendConfirmationCode(e,t){await J.g.resendSignUp(t)},async verify(e,t){await J.g.confirmSignUp(t.username,t.code)}},Sa={setUser(e,t){e.user=t},logout(e,t){e.user=t}};var xa={state:Va,getters:Pa,actions:Ea,mutations:Sa},Ia=(0,d.MT)({modules:{users:xa}});const Ja=[{path:"/",name:"Home",component:W},{path:"/register",name:"Register",component:ne},{path:"/confirm-email/:username",name:"ConfirmEmail",component:me},{path:"/user-not-confirmed",name:"UserNotConfirmed",component:ge},{path:"/login",name:"Login",component:Fe},{path:"/forgot-password",name:"ForgotPassword",component:Ze},{path:"/files",name:"Files",component:st,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:mt,meta:{requiresAuth:!0}},{path:"/jobs",name:"Jobs",component:qt,meta:{requiresAuth:!0}},{path:"/jobs/new",name:"JobCreation",component:Ma,meta:{requiresAuth:!0}}],Oa=(0,u.p7)({history:(0,u.PO)("/DECODE_Cloud_UserFrontend/"),routes:Ja});Oa.beforeEach(((e,t,a)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if(Ia.getters.isAuthenticated)return void a();a("/login")}else a()}));var qa=Oa;const Aa={NODE_ENV:"production",BASE_URL:"/DECODE_Cloud_UserFrontend/"}.API_URL||"https://dev.decodeapi.arthur-jaques.de",za=s.Z.create({baseURL:Aa});async function $a(){try{let e=await za.get("/access_info"),t=e.data.cognito;I.d.configure({Auth:{userPoolId:t.user_pool_id,userPoolWebClientId:t.client_id,region:t.region,authenticationFlowType:"USER_PASSWORD_AUTH"}}),za.interceptors.request.use((async e=>{try{const t=await J.g.currentSession(),a=t.getIdToken().getJwtToken();e.headers.Authorization=`Bearer ${a}`}catch(t){return await Ia.dispatch("logOut"),qa.push("/login"),Promise.reject(t)}return e}),(async e=>e.response&&401===e.response.status?(await Ia.dispatch("logOut"),qa.push("/login"),Promise.reject(e)):Promise.reject(e)));const a=(0,o.ri)(x);a.use(qa),a.use(Ia),a.mount("#app")}catch(e){console.error("Error during app initialization:",e)}}$a()},6249:function(){}},t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=e,function(){var e=[];a.O=function(t,o,s,n){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],s=e[u][1],n=e[u][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<r&&(r=n));if(i){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,s,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,n,r=o[0],i=o[1],l=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var u=l(a)}for(t&&t(o);d<r.length;d++)n=r[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},o=self["webpackChunkDECODE_Cloud_UserFrontend"]=self["webpackChunkDECODE_Cloud_UserFrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(3119)}));o=a.O(o)})();
//# sourceMappingURL=app.3ed4d90d.js.map