(function(){"use strict";var e={866:function(e,t,n){n.a(e,(async function(e,t){try{n(560);var a=n(9242),o=n(4311),l=n(5300),i=n(7748),r=n(9789),s=n(5785),u=n(7542);const e=(0,a.ri)(l.Z),c={NODE_ENV:"production",BASE_URL:"/DECODE_Cloud_UserFrontend/"}.API_URL||"https://dev.decodeapi.arthur-jaques.de";o.Z.defaults.withCredentials=!0,o.Z.defaults.baseURL=c;let d=await o.Z.get("/access_info"),p=d.data.cognito;i.V.configure({Auth:{region:p.region,userPoolId:p.user_pool_id,userPoolWebClientId:p.client_id,authenticationFlowType:"USER_PASSWORD_AUTH"}}),o.Z.interceptors.request.use((async e=>{try{const t=await r.Auth.currentSession(),n=t.getIdToken().getJwtToken();e.headers.Authorization=`Bearer ${n}`}catch(t){u.Z.dispatch("logOut").then((()=>{s.Z.push("/login")}))}return e}),(e=>{if(401!==e.response.status)return Promise.reject(e);u.Z.dispatch("logOut").then((()=>{s.Z.push("/login")}))})),e.use(s.Z),e.use(u.Z),e.mount("#app"),t()}catch(c){t(c)}}),1)},5785:function(e,t,n){n.d(t,{Z:function(){return kt}});var a=n(2483),o=n(3396);const l={key:0,id:"logout"},i={id:"logout"},r={id:"logout"},s={key:1},u=(0,o._)("span",null," or ",-1);function c(e,t,n,a,c,d){const p=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("section",null,[e.isLoggedIn?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("p",i,[(0,o.Uk)("Click "),(0,o.Wm)(p,{to:"/files"},{default:(0,o.w5)((()=>[(0,o.Uk)("here")])),_:1}),(0,o.Uk)(" to view your files.")]),(0,o._)("p",r,[(0,o.Uk)("Click "),(0,o.Wm)(p,{to:"/jobs"},{default:(0,o.w5)((()=>[(0,o.Uk)("here")])),_:1}),(0,o.Uk)(" to view your jobs.")])])):((0,o.wg)(),(0,o.iD)("p",s,[(0,o._)("span",null,[(0,o.Wm)(p,{to:"/register"},{default:(0,o.w5)((()=>[(0,o.Uk)("Register")])),_:1})]),u,(0,o._)("span",null,[(0,o.Wm)(p,{to:"/login"},{default:(0,o.w5)((()=>[(0,o.Uk)("Log In")])),_:1})])]))])}var d=(0,o.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}}),p=n(89);const b=(0,p.Z)(d,[["render",c]]);var m=b;const h=(0,o._)("p",null,"Please contact the developers if you would like to use DECODE OpenCloud",-1),f=[h];function g(e,t,n,a,l,i){return(0,o.wg)(),(0,o.iD)("div",null,f)}var _=(0,o.aZ)({name:"Register"});const w=(0,p.Z)(_,[["render",g]]);var v=w,y=n(9242);const k={class:"mb-3"},j=(0,o._)("label",{for:"username",class:"form-label"},"Email address:",-1),D={class:"mb-3"},U=(0,o._)("label",{for:"password",class:"form-label"},"Password:",-1),F=(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function C(e,t,n,a,l,i){return(0,o.wg)(),(0,o.iD)("section",null,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,y.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,o._)("div",k,[j,(0,o.wy)((0,o._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[y.nr,e.form.username]])]),(0,o._)("div",D,[U,(0,o.wy)((0,o._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),class:"form-control"},null,512),[[y.nr,e.form.password]])]),F],32)])}n(560);var Z=n(65),E=(0,o.aZ)({name:"Login",data(){return{form:{username:"",password:""}}},methods:{...(0,Z.nv)(["logIn"]),async submit(){const e=new FormData;e.append("username",this.form.username),e.append("password",this.form.password),await this.logIn(e),this.$router.push("/files")}}});const J=(0,p.Z)(E,[["render",C]]);var P=J,I=n(7139);const O=(0,o._)("h1",null,"Files",-1),x=["disabled"],A={key:0},V=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Type"),(0,o._)("th",null,"Name"),(0,o._)("th",null,"Size")])],-1),S=["onDblclick"],z=["value","onChange"],M=["onClick"],N=["onClick"];function T(e,t,n,a,l,i){return(0,o.wg)(),(0,o.iD)(o.HY,null,[O,(0,o._)("div",null,[(0,o._)("header",null,[(0,o._)("button",{onClick:t[0]||(t[0]=(...t)=>e.goUp&&e.goUp(...t)),disabled:""===e.path},"Back",8,x),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.path=t),placeholder:"Path"},null,512),[[y.nr,e.path]]),(0,o._)("button",{class:"btn-flat",onClick:t[2]||(t[2]=(...t)=>e.createFolder&&e.createFolder(...t))},"Create Folder"),(0,o._)("button",{onClick:t[3]||(t[3]=(...t)=>e.uploadSingleFile&&e.uploadSingleFile(...t))},"Upload File"),(0,o._)("button",{onClick:t[4]||(t[4]=(...t)=>e.uploadDirectory&&e.uploadDirectory(...t))},"Upload Directory"),e.uploadingFile?((0,o.wg)(),(0,o.iD)("p",A,"Uploading: "+(0,I.zw)(e.uploadingFile),1)):(0,o.kq)("",!0),(0,o._)("input",{type:"file",id:"fileInput",onChange:t[5]||(t[5]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32),(0,o._)("input",{type:"file",id:"directoryInput",webkitdirectory:"",multiple:"",onChange:t[6]||(t[6]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32)]),(0,o._)("main",null,[(0,o._)("table",null,[V,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.files,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n,onDblclick:a=>e.openAction(n,t)},[(0,o._)("td",null,(0,I.zw)(t.type),1),(0,o._)("td",null,[(0,o._)("input",{type:"text",value:t.path.replace(this.path,""),onChange:n=>e.renameItem(t.path,n.target.value)},null,40,z)]),(0,o._)("td",null,(0,I.zw)("directory"===t.type?"-":t.size),1),(0,o._)("td",null,[(0,o._)("button",{onClick:n=>e.deleteItem(t.path)},"Delete",8,M)]),(0,o._)("td",null,[(0,o._)("button",{onClick:n=>e.downloadItem(t)},"Download",8,N)])],40,S)))),128))])])])])],64)}n(8858),n(1318),n(3228);var W=n(4311),$=n(4730),L=n.n($),H={async getFiles(e){return e=e||"/",await W.Z.get(`/files/${e}?show_dirs=True&recursive=False`)},async createFolder(e){return await W.Z.post(`/files/${e}/`)},async uploadFile(e,t){let n=await W.Z.post(`/files/${e}url`),a=new FormData;"key"in n.data["data"]&&a.append("key",n.data["data"]["key"]);for(let o in n.data["data"])"key"!==o&&a.append(o,n.data["data"][o]);for(let o of t.entries())a.append(o[0],o[1]);return await W.Z.post(n.data.url,a,{headers:n.data.headers||{}})},async deleteItem(e){return await W.Z.delete(`/files/${e}`)},async renameItem(e,t){return await W.Z.put(`/files/${e}`,{path:t})},async downloadFile(e){let t=await W.Z.get(`/files/${e}/url`);return await W.Z.get(t.data.url,{headers:t.data.headers||{}})},async downloadItem(e){const t=e.path;if("directory"===e.type){let n=new(L()),a=await W.Z.get(`/files/${t}`,{params:{show_dirs:!1,recursive:!0}});for(let t of a.data){let a=await this.downloadFile(t.path);n.file(t.path.replace(e.path,""),a.data)}let o=await n.generateAsync({type:"blob"});const l=window.URL.createObjectURL(o),i=document.createElement("a");i.href=l;let r=t.split("/");i.setAttribute("download",r[r.length-2]+".zip"),document.body.appendChild(i),i.click()}else{let e=await this.downloadFile(t);const n=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=n,a.setAttribute("download",t.split("/").pop()),document.body.appendChild(a),a.click()}}},R=(0,o.aZ)({name:"FilesView",data(){return{path:"",files:[],uploadingFile:null}},methods:{openAction:function(e,t){"directory"===t.type&&(this.path=t.path,this.fetchFiles())},fetchFiles(){H.getFiles(this.path).then((e=>{this.files=e.data})).catch((e=>{console.error("Error fetching files:",e)}))},goUp(){let e=this.path.trimEnd("/").split("/").filter(Boolean);e.pop(),this.path=e.join("/"),""!=this.path&&(this.path=this.path+"/"),this.fetchFiles()},createFolder(){H.createFolder(this.path+"new").then((()=>{this.fetchFiles()}))},uploadSingleFile(){document.getElementById("fileInput").click()},uploadDirectory(){document.getElementById("directoryInput").click()},handleUpload(e){const t=e.target.files;for(let n=0;n<t.length;n++){let e=t[n],a=e.webkitRelativePath||e.name,o=a.split("/");o.pop();let l=o.join("/")+"/";this.uploadFile(e,this.path+l)}},uploadFile(e,t){this.uploadingFile=e.name;let n=new FormData;return n.append("file",e),H.uploadFile(t,n).then((()=>{this.fetchFiles(),this.uploadingFile=null})).catch((e=>{console.error("Error uploading file:",e),this.uploadingFile=null}))},downloadItem(e){H.downloadItem(e)},deleteItem(e){H.deleteItem(e).then((()=>{this.fetchFiles()}))},renameItem(e,t){let n=this.path.trimEnd("/")+"/"+t;H.renameItem(e,n).then((()=>{this.fetchFiles()}))}},mounted(){this.fetchFiles()}});const q=(0,p.Z)(R,[["render",T]]);var B=q;const Y=(0,o._)("h1",null,"Your Profile",-1),K=(0,o._)("hr",null,null,-1),G=(0,o._)("br",null,null,-1),Q=(0,o._)("strong",null,"Email address:",-1),X=(0,o._)("strong",null,"Groups:",-1);function ee(e,t,n,a,l,i){return(0,o.wg)(),(0,o.iD)("section",null,[Y,K,G,(0,o._)("div",null,[(0,o._)("p",null,[Q,(0,o.Uk)(),(0,o._)("span",null,(0,I.zw)(e.user.email),1)]),(0,o._)("p",null,[X,(0,o.Uk)(),(0,o._)("span",null,(0,I.zw)(e.user.groups),1)])])])}var te=(0,o.aZ)({name:"Profile",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,Z.Se)({user:"stateUser"})},methods:{}});const ne=(0,p.Z)(te,[["render",ee]]);var ae=ne;const oe={class:"job-list-section"},le=(0,o._)("h1",null,"Jobs",-1),ie=(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,"Job Name"),(0,o._)("th",null,"Status"),(0,o._)("th",null,"Creation Time"),(0,o._)("th",null,"Application"),(0,o._)("th",null,"Actions")])],-1),re=["onClick"],se=["onClick"],ue=["disabled"],ce=["disabled"],de={key:0,class:"job-details-section"},pe=(0,o._)("h2",null,"Job Details",-1);function be(e,t,n,a,l,i){const r=(0,o.up)("job-details-tree");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",oe,[le,(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToJobCreationForm&&i.goToJobCreationForm(...e)),style:{"margin-bottom":"10px"}},"+New Job"),(0,o._)("table",null,[ie,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.jobs,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,I.zw)(e.job_name),1),(0,o._)("td",null,(0,I.zw)(e.status),1),(0,o._)("td",null,(0,I.zw)(e.date_created),1),(0,o._)("td",null,(0,I.zw)(e.application.application)+" > "+(0,I.zw)(e.application.version)+" > "+(0,I.zw)(e.application.entrypoint),1),(0,o._)("td",null,[(0,o._)("button",{onClick:t=>i.getJobDetails(e.id)},"Details",8,re),(0,o._)("button",{onClick:t=>i.deleteJob(e.id)},"Delete",8,se)])])))),128))])]),(0,o._)("button",{onClick:t[1]||(t[1]=e=>i.changePage(l.currentPage-1)),disabled:l.currentPage<=1},"Previous",8,ue),(0,o._)("button",{onClick:t[2]||(t[2]=e=>i.changePage(l.currentPage+1)),disabled:!l.canGoToNextPage},"Next",8,ce)]),l.selectedJob?((0,o.wg)(),(0,o.iD)("div",de,[pe,(0,o.Wm)(r,{data:l.selectedJob},null,8,["data"])])):(0,o.kq)("",!0)])}var me={async createJob(e){return await W.Z.post("/jobs",e)},async getJobs(e,t){return await W.Z.get(`/jobs?offset=${e}&limit=${t}`)},async getJobDetails(e){return await W.Z.get(`/jobs/${e}`)},async deleteJob(e){return await W.Z.delete(`/jobs/${e}`)},async getApplications(){return await W.Z.get("/jobs/applications")}};const he={key:0,class:"tree-node"},fe=["onClick"],ge={class:"toggle-icon"},_e={key:1,class:"tree-item-row"},we={class:"tree-item-value"},ve={key:2,class:"tree-item-content"};function ye(e,t,n,a,l,i){const r=(0,o.up)("job-details-tree",!0);return i.isObject(n.data)?((0,o.wg)(),(0,o.iD)("div",he,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.data,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t,class:"tree-item"},[i.isObject(e)?((0,o.wg)(),(0,o.iD)("div",{key:0,onClick:e=>i.toggle(t),class:"tree-item-label"},[(0,o._)("span",ge,(0,I.zw)(i.isExpanded(t)?"-":"+"),1),(0,o._)("strong",null,(0,I.zw)(t)+":",1)],8,fe)):((0,o.wg)(),(0,o.iD)("div",_e,[(0,o._)("strong",null,(0,I.zw)(t)+":",1),(0,o._)("div",we,(0,I.zw)(e),1)])),i.isObject(e)&&i.isExpanded(t)?((0,o.wg)(),(0,o.iD)("div",ve,[(0,o.Wm)(r,{data:e},null,8,["data"])])):(0,o.kq)("",!0)])))),128))])):(0,o.kq)("",!0)}var ke={name:"JobDetailsTree",props:{data:[Object,Array,String,Number,Boolean]},data(){return{expandedNodes:{}}},methods:{isObject(e){return e&&"object"===typeof e},toggle(e){this.expandedNodes[e]=!this.expandedNodes[e]},isExpanded(e){return!!this.expandedNodes[e]}}};const je=(0,p.Z)(ke,[["render",ye]]);var De=je,Ue={data(){return{jobs:[],selectedJob:null,currentPage:1,limit:20,canGoToNextPage:!0}},methods:{goToJobCreationForm(){this.$router.push("/jobs/new")},async fetchJobs(){try{const e=(this.currentPage-1)*this.limit,t=await me.getJobs(e,this.limit);this.jobs=t.data,this.canGoToNextPage=this.jobs.length===this.limit}catch(e){console.error(e)}},async getJobDetails(e){try{const t=await me.getJobDetails(e);this.selectedJob=t.data}catch(t){console.error(t)}},async deleteJob(e){try{await me.deleteJob(e),this.fetchJobs()}catch(t){console.error(t)}},changePage(e){e<1||(this.currentPage=e,this.fetchJobs())}},components:{JobDetailsTree:De},mounted(){this.fetchJobs()}};const Fe=(0,p.Z)(Ue,[["render",be]]);var Ce=Fe;const Ze=e=>((0,o.dD)("data-v-0a362ade"),e=e(),(0,o.Cn)(),e),Ee={class:"form-group"},Je=Ze((()=>(0,o._)("h2",null,"Submit New Job",-1))),Pe={key:0,class:"error-message"},Ie=Ze((()=>(0,o._)("label",{class:"form-label",for:"jobName"},"Job Name",-1))),Oe=Ze((()=>(0,o._)("label",{class:"form-label"},"Application",-1))),xe={class:"sub-group"},Ae=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Application",-1))),Ve=["value"],Se=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Version",-1))),ze=["value"],Me=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Entrypoint",-1))),Ne=["value"],Te={class:"form-group"},We=Ze((()=>(0,o._)("label",{class:"form-label"},"Input",-1))),$e={class:"sub-group"},Le=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Configuration",-1))),He=["value"],Re={class:"sub-group",style:{display:"flex","align-items":"center"}},qe=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Data",-1))),Be={class:"sub-group",style:{display:"flex","align-items":"center"}},Ye=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Artifacts",-1))),Ke={class:"sub-group",style:{display:"flex","align-items":"center"}},Ge=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Environment Variables",-1))),Qe={class:"form-subsublabel"},Xe=["placeholder","onUpdate:modelValue"],et={class:"form-group"},tt=Ze((()=>(0,o._)("label",{class:"form-label"},"Runtime",-1))),nt={class:"sub-group"},at=Ze((()=>(0,o._)("label",{class:"form-sublabel"},"Hardware Specs",-1))),ot={class:"sub-group"},lt=Ze((()=>(0,o._)("label",{class:"form-sublabel",for:"environment"},"Environment",-1))),it=Ze((()=>(0,o._)("option",{disabled:"",value:""},"Select environment",-1))),rt=Ze((()=>(0,o._)("option",{value:"cloud"},"cloud",-1))),st=Ze((()=>(0,o._)("option",{value:"local"},"local",-1))),ut=Ze((()=>(0,o._)("option",{value:"null"},"any",-1))),ct=[it,rt,st,ut],dt={class:"sub-group"},pt=Ze((()=>(0,o._)("label",{class:"form-sublabel",for:"priority"},"Priority",-1))),bt=Ze((()=>(0,o._)("button",{type:"submit"},"Submit Job",-1)));function mt(e,t,n,a,l,i){const r=(0,o.up)("b-form-select");return(0,o.wg)(),(0,o.iD)("form",{onSubmit:t[16]||(t[16]=(0,y.iM)(((...e)=>i.submitJob&&i.submitJob(...e)),["prevent"]))},[(0,o._)("div",Ee,[Je,l.errorMessage?((0,o.wg)(),(0,o.iD)("div",Pe,(0,I.zw)(l.errorMessage),1)):(0,o.kq)("",!0),(0,o._)("div",null,[Ie,(0,o.wy)((0,o._)("input",{type:"text",id:"jobName","onUpdate:modelValue":t[0]||(t[0]=e=>l.job.job_name=e)},null,512),[[y.nr,l.job.job_name]])]),(0,o._)("div",null,[Oe,(0,o._)("div",xe,[Ae,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.job.application.application=e),onChange:t[2]||(t[2]=(...e)=>i.fetchVersions&&i.fetchVersions(...e))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.applications,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,I.zw)(t),9,Ve)))),128))],544),[[y.bM,l.job.application.application]]),Se,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.job.application.version=e),onChange:t[4]||(t[4]=(...e)=>i.fetchEntrypoints&&i.fetchEntrypoints(...e))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.versions,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,I.zw)(t),9,ze)))),128))],544),[[y.bM,l.job.application.version]]),Me,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.job.application.entrypoint=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.entrypoints,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:t},(0,I.zw)(t),9,Ne)))),128))],512),[[y.bM,l.job.application.entrypoint]])])])]),(0,o._)("div",Te,[We,(0,o._)("div",$e,[Le,(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.job.attributes.files_down.config_id=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.configFiles,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t,value:e},(0,I.zw)(e),9,He)))),128))],512),[[y.bM,l.job.attributes.files_down.config_id]])]),(0,o._)("div",Re,[qe,(0,o.Wm)(r,{modelValue:l.job.attributes.files_down.data_ids,"onUpdate:modelValue":t[7]||(t[7]=e=>l.job.attributes.files_down.data_ids=e),options:l.dataFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,o._)("div",Be,[Ye,(0,o.Wm)(r,{modelValue:l.job.attributes.files_down.artifact_ids,"onUpdate:modelValue":t[8]||(t[8]=e=>l.job.attributes.files_down.artifact_ids=e),options:l.artifactFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,o._)("div",Ke,[Ge,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.environs,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:t},[(0,o._)("label",Qe,(0,I.zw)(e),1),(0,o.wy)((0,o._)("input",{type:"text",placeholder:e,"onUpdate:modelValue":t=>l.job.attributes.env_vars[e]=t},null,8,Xe),[[y.nr,l.job.attributes.env_vars[e]]])])))),128))])]),(0,o._)("div",et,[tt,(0,o._)("div",nt,[at,(0,o.wy)((0,o._)("input",{type:"number",placeholder:"CPU Cores","onUpdate:modelValue":t[9]||(t[9]=e=>l.job.hardware.cpu_cores=e)},null,512),[[y.nr,l.job.hardware.cpu_cores,void 0,{number:!0}]]),(0,o.wy)((0,o._)("input",{type:"number",placeholder:"Memory","onUpdate:modelValue":t[10]||(t[10]=e=>l.job.hardware.memory=e)},null,512),[[y.nr,l.job.hardware.memory,void 0,{number:!0}]]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"GPU Model","onUpdate:modelValue":t[11]||(t[11]=e=>l.job.hardware.gpu_model=e)},null,512),[[y.nr,l.job.hardware.gpu_model]]),(0,o.wy)((0,o._)("input",{type:"text",placeholder:"GPU Architecture","onUpdate:modelValue":t[12]||(t[12]=e=>l.job.hardware.gpu_archi=e)},null,512),[[y.nr,l.job.hardware.gpu_archi]]),(0,o.wy)((0,o._)("input",{type:"number",placeholder:"GPU Memory","onUpdate:modelValue":t[13]||(t[13]=e=>l.job.hardware.gpu_mem=e)},null,512),[[y.nr,l.job.hardware.gpu_mem,void 0,{number:!0}]])]),(0,o._)("div",ot,[lt,(0,o.wy)((0,o._)("select",{id:"environment","onUpdate:modelValue":t[14]||(t[14]=e=>l.job.environment=e)},ct,512),[[y.bM,l.job.environment]])]),(0,o._)("div",dt,[pt,(0,o.wy)((0,o._)("input",{type:"number",id:"priority","onUpdate:modelValue":t[15]||(t[15]=e=>l.job.priority=e)},null,512),[[y.nr,l.job.priority,void 0,{number:!0}]])])]),bt],32)}var ht=n(2026),ft={data(){return{job:{job_name:null,environment:null,priority:null,application:{application:null,version:null,entrypoint:null},attributes:{files_down:{config_id:null,data_ids:[],artifact_ids:[]},env_vars:{}},hardware:{cpu_cores:null,memory:null,gpu_model:null,gpu_archi:null,gpu_mem:null}},applications:{},versions:{},entrypoints:{},environs:{},configFiles:[],dataFiles:[],artifactFiles:[],errorMessage:null}},components:{BFormSelect:ht.KB},methods:{async fetchApplications(){const e=await me.getApplications();this.applications=e.data},fetchVersions(){""!=this.job.application.application&&(this.versions=this.applications[this.job.application.application])},fetchEntrypoints(){""!=this.job.application.version&&(this.entrypoints=this.versions[this.job.application.version])},fetchEnvirons(){""!=this.job.application.entrypoint&&(this.environs=this.entrypoints[this.job.application.entrypoint]["app"]["env"])},async fetchInputFiles(){const e=await H.getFiles("config/");this.configFiles=e.data.map((e=>e.path.replace("config/","")));const t=await H.getFiles("data/");this.dataFiles=t.data.map((e=>e.path.replace("data/","")));const n=await H.getFiles("artifact/");this.artifactFiles=n.data.map((e=>e.path.replace("artifact/","")))},submitJob(){me.createJob(this.job).then((()=>{this.$router.push("/jobs")})).catch((e=>{this.errorMessage=e.response.data.detail}))}},watch:{"job.application.application":function(e,t){e!==t&&this.fetchVersions()},"job.application.version":function(e,t){e!==t&&this.fetchEntrypoints()},"job.application.entrypoint":function(e,t){e!==t&&this.fetchEnvirons()}},created(){this.fetchApplications(),this.fetchInputFiles()}};const gt=(0,p.Z)(ft,[["render",mt],["__scopeId","data-v-0a362ade"]]);var _t=gt,wt=n(7542);const vt=[{path:"/",name:"Home",component:m},{path:"/register",name:"Register",component:v},{path:"/login",name:"Login",component:P},{path:"/files",name:"Files",component:B,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:ae,meta:{requiresAuth:!0}},{path:"/jobs",name:"Jobs",component:Ce,meta:{requiresAuth:!0}},{path:"/jobs/new",name:"JobCreation",component:_t,meta:{requiresAuth:!0}}],yt=(0,a.p7)({history:(0,a.PO)("/DECODE_Cloud_UserFrontend/"),routes:vt});yt.beforeEach(((e,t,n)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if(wt.Z.getters.isAuthenticated)return void n();n("/login")}else n()}));var kt=yt},7542:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(65),o=n(4311),l=n(9789);const i={user:null},r={isAuthenticated:e=>!!e.user,stateUser:e=>e.user},s={async logIn({dispatch:e},t){l.Auth.signIn({username:t.username,password:t.password}).then((()=>{e("viewMe")}))},async viewMe({commit:e}){let{data:t}=await o.Z.get("user");await e("setUser",t)},async logOut({commit:e}){await l.Auth.signOut(),await e("logout",null)}},u={setUser(e,t){e.user=t},logout(e,t){e.user=t}};var c={state:i,getters:r,actions:s,mutations:u},d=(0,a.MT)({modules:{users:c}})},5300:function(e,t,n){n.d(t,{Z:function(){return E}});var a=n(3396);const o={id:"app"},l={class:"main container"};function i(e,t,n,i,r,s){const u=(0,a.up)("NavBar"),c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(u),(0,a._)("div",l,[(0,a.Wm)(c)])])}const r=e=>((0,a.dD)("data-v-b2c6df24"),e=e(),(0,a.Cn)(),e),s={class:"navbar navbar-expand-md navbar-dark bg-dark"},u={class:"container"},c=r((()=>(0,a._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a._)("span",{class:"navbar-toggler-icon"})],-1))),d={class:"collapse navbar-collapse",id:"navbarCollapse"},p={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},b={class:"nav-item"},m={class:"nav-item"},h={class:"nav-item"},f={class:"nav-item"},g={class:"nav-item"},_={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},w={class:"nav-item"},v={class:"nav-item"},y={class:"nav-item"};function k(e,t,n,o,l,i){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("header",null,[(0,a._)("nav",s,[(0,a._)("div",u,[(0,a.Wm)(r,{class:"navbar-brand",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("DECODE OpenCloud")])),_:1}),c,(0,a._)("div",d,[e.isLoggedIn?((0,a.wg)(),(0,a.iD)("ul",p,[(0,a._)("li",b,[(0,a.Wm)(r,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})]),(0,a._)("li",m,[(0,a.Wm)(r,{class:"nav-link",to:"/files"},{default:(0,a.w5)((()=>[(0,a.Uk)("Files")])),_:1})]),(0,a._)("li",h,[(0,a.Wm)(r,{class:"nav-link",to:"/jobs"},{default:(0,a.w5)((()=>[(0,a.Uk)("Jobs")])),_:1})]),(0,a._)("li",f,[(0,a.Wm)(r,{class:"nav-link",to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("Profile")])),_:1})]),(0,a._)("li",g,[(0,a._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"Log Out")])])):((0,a.wg)(),(0,a.iD)("ul",_,[(0,a._)("li",w,[(0,a.Wm)(r,{class:"nav-link",to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1})]),(0,a._)("li",v,[(0,a.Wm)(r,{class:"nav-link",to:"/register"},{default:(0,a.w5)((()=>[(0,a.Uk)("Register")])),_:1})]),(0,a._)("li",y,[(0,a.Wm)(r,{class:"nav-link",to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Log In")])),_:1})])]))])])])])}n(560);var j=(0,a.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),D=n(89);const U=(0,D.Z)(j,[["render",k],["__scopeId","data-v-b2c6df24"]]);var F=U,C={components:{NavBar:F}};const Z=(0,D.Z)(C,[["render",i]]);var E=Z}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=function(e){e&&e.d<1&&(e.d=1,e.forEach((function(e){e.r--})),e.forEach((function(e){e.r--?e.r++:e()})))},l=function(n){return n.map((function(n){if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var l=[];l.d=0,n.then((function(e){i[t]=e,o(l)}),(function(e){i[a]=e,o(l)}));var i={};return i[e]=function(e){e(l)},i}}var r={};return r[e]=function(){},r[t]=n,r}))};n.a=function(n,i,r){var s;r&&((s=[]).d=-1);var u,c,d,p=new Set,b=n.exports,m=new Promise((function(e,t){d=t,c=e}));m[t]=b,m[e]=function(e){s&&e(s),p.forEach(e),m["catch"]((function(){}))},n.exports=m,i((function(n){var o;u=l(n);var i=function(){return u.map((function(e){if(e[a])throw e[a];return e[t]}))},r=new Promise((function(t){o=function(){t(i)},o.r=0;var n=function(e){e!==s&&!p.has(e)&&(p.add(e),e&&!e.d&&(o.r++,e.push(o)))};u.map((function(t){t[e](n)}))}));return o.r?r:i()}),(function(e){e?d(m[a]=e):c(b),o(s)})),s&&s.d<0&&(s.d=0)}}(),function(){var e=[];n.O=function(t,a,o,l){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],l=e[c][2];for(var r=!0,s=0;s<a.length;s++)(!1&l||i>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(r=!1,l<i&&(i=l));if(r){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,i=a[0],r=a[1],s=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(s)var c=s(n)}for(t&&t(a);u<i.length;u++)l=i[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self["webpackChunkDECODE_Cloud_UserFrontend"]=self["webpackChunkDECODE_Cloud_UserFrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(866)}));a=n.O(a)})();
//# sourceMappingURL=app.b70b8a79.js.map