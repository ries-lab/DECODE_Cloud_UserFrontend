(function(){var e={2624:function(e,t,o){"use strict";o.d(t,{x:function(){return ca}});o(560);var a=o(9242),n=o(1076),i=o(3396);const s={id:"app"},r={class:"main container"};function l(e,t,o,a,n,l){const d=(0,i.up)("NavBar"),u=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(d),(0,i._)("div",r,[(0,i.Wm)(u)])])}var d=o(65),u=o(2483);const c=e=>((0,i.dD)("data-v-b2c6df24"),e=e(),(0,i.Cn)(),e),p={class:"navbar navbar-expand-md navbar-dark bg-dark"},m={class:"container"},h=c((()=>(0,i._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i._)("span",{class:"navbar-toggler-icon"})],-1))),f={class:"collapse navbar-collapse",id:"navbarCollapse"},b={key:0,class:"navbar-nav me-auto mb-2 mb-md-0"},g={class:"nav-item"},_={class:"nav-item"},w={class:"nav-item"},y={class:"nav-item"},v={class:"nav-item"},k={key:1,class:"navbar-nav me-auto mb-2 mb-md-0"},U={class:"nav-item"},C={class:"nav-item"},j={class:"nav-item"};function D(e,t,o,a,n,s){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",null,[(0,i._)("nav",p,[(0,i._)("div",m,[(0,i.Wm)(r,{class:"navbar-brand",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("DECODE OpenCloud")])),_:1}),h,(0,i._)("div",f,[e.isLoggedIn?((0,i.wg)(),(0,i.iD)("ul",b,[(0,i._)("li",g,[(0,i.Wm)(r,{class:"nav-link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",_,[(0,i.Wm)(r,{class:"nav-link",to:"/files"},{default:(0,i.w5)((()=>[(0,i.Uk)("Files")])),_:1})]),(0,i._)("li",w,[(0,i.Wm)(r,{class:"nav-link",to:"/jobs"},{default:(0,i.w5)((()=>[(0,i.Uk)("Jobs")])),_:1})]),(0,i._)("li",y,[(0,i.Wm)(r,{class:"nav-link",to:"/profile"},{default:(0,i.w5)((()=>[(0,i.Uk)("Profile")])),_:1})]),(0,i._)("li",v,[(0,i._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"Log Out")])])):((0,i.wg)(),(0,i.iD)("ul",k,[(0,i._)("li",U,[(0,i.Wm)(r,{class:"nav-link",to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1})]),(0,i._)("li",C,[(0,i.Wm)(r,{class:"nav-link",to:"/register"},{default:(0,i.w5)((()=>[(0,i.Uk)("Register")])),_:1})]),(0,i._)("li",j,[(0,i.Wm)(r,{class:"nav-link",to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)("Log In")])),_:1})])]))])])])])}var E=(0,i.aZ)({name:"NavBar",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{async logout(){await this.$store.dispatch("logOut"),this.$router.push("/login")}}}),F=o(89);const M=(0,F.Z)(E,[["render",D],["__scopeId","data-v-b2c6df24"]]);var O=M,V={setup(){const e=(0,d.oR)(),t=(0,u.tv)();(0,i.bv)((()=>{e.dispatch("viewMe").then((()=>{e.state.user&&t.push("/home")}))}))},components:{NavBar:O}};const P=(0,F.Z)(V,[["render",l]]);var x=P,J=o(7429),S=o(4517);const T=e=>((0,i.dD)("data-v-118c8152"),e=e(),(0,i.Cn)(),e),I=T((()=>(0,i._)("header",null,[(0,i._)("h1",null,"Welcome to DECODE-OpenCloud")],-1))),A={id:"how-to-use"},q=T((()=>(0,i._)("h2",null,"How to Use",-1))),z=T((()=>(0,i._)("section",{id:"register_login"},[(0,i._)("h3",null,"Registration and Login"),(0,i._)("p",null," Before using DECODE-OpenCloud, registration is required. In addition, registration requires confirmation by an administrator, which might induce a small delay. We apologize for this delay that is necessary to avoid abuse of our system. ")],-1))),W={id:"general"},N=T((()=>(0,i._)("h3",null,"General",-1))),$=T((()=>(0,i._)("p",null,' You can create folders and upload files/folders using the corresponding buttons. You can rename them by clicking on the file/folder name. Please note that folder names must end with a "/". To download or delete a file/folder, click on the corresponding buttons next to the file name. ',-1))),Y=T((()=>(0,i._)("p",null,[(0,i.Uk)(" The top-level folder structure is fixed as follows: "),(0,i._)("ul",null,[(0,i._)("li",null,'"artifact/" contains job artifacts (e.g. trained ML models)'),(0,i._)("li",null,'"config/" contains configuration files (e.g. hyperparameters). A job will get all the configuration from a single folder.'),(0,i._)("li",null,'"data/" contains data files (e.g. training data). Take care to put files in folders, as you will need to specify folders to put the data from for each job.'),(0,i._)("li",null,'"log/" contains job logging data. This will be periodically cleaned up.'),(0,i._)("li",null,'"output/" contains job output data that are not artifacts or logs.')])],-1))),Z={id:"decode"},R=T((()=>(0,i._)("h3",null,"DECODE",-1))),H=T((()=>(0,i._)("a",{href:"https://decode.readthedocs.io/en/release-0.10/index.html",target:"_blank"},"here",-1))),L={id:"train"},B=T((()=>(0,i._)("h4",null,"Train",-1))),K=T((()=>(0,i._)("a",{href:"https://oc.embl.de/index.php/s/Abn8nSMlOqvKeHC/download",target:"_blank"},"here",-1))),G=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'The bead calibration file in a subfolder (e.g. "test_decode/") of "data/"'),(0,i._)("li",null,'The configuration file in a subfolder (e.g. "test_decode/") of "config/"')],-1))),X=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'Under "Job Name", enter a name for your job (e.g. "test_decode")'),(0,i._)("li",null,'Under "Application", select "decode" > "v0.10.1" > "train"'),(0,i._)("li",null,'Under "Input", select the folder containing the configuration file for "Configuration" and the folder containing the bead calibration file for "Data"')],-1))),Q={id:"fit"},ee=T((()=>(0,i._)("h4",null,"Fit",-1))),te=T((()=>(0,i._)("a",{href:"https://oc.embl.de/index.php/s/Xhsin2EfyoCREVM/download",target:"_blank"},"here",-1))),oe=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'The frame stack in a subfolder (e.g. "test_decode_fit") of "data/"'),(0,i._)("li",null,'The `meta.yaml` configuration in a subfolder (e.g. "test_decode_fit") of "config/"')],-1))),ae=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'Under "Job Name", enter a name for your job (e.g. "test_decode_fit")'),(0,i._)("li",null,'Under "Application", select "decode" > "v0.10.1" > "fit"'),(0,i._)("li",null,'Under "Input", select the folder containing the `meta.yaml` for "Configuration", the folder containing the frame stack for "Data", and the folder containing the previously trained model (should be "test_decode/") for "Artifacts"')],-1))),ne={id:"decode"},ie=T((()=>(0,i._)("h3",null,"COMET",-1))),se=T((()=>(0,i._)("p",null,[(0,i.Uk)(" COMET is a software for drift correction single molecule localization microscopy. You can read more about it "),(0,i._)("a",{href:"https://github.com/gpufit/Comet",target:"_blank"},"here"),(0,i.Uk)(". Comet already provides a website to run the software on the developers' servers (see "),(0,i._)("a",{href:"https://www.smlm.tools/",target:"_blank"},"here"),(0,i.Uk)("); We added it to DECODE-OpenCloud as a proof of concept to show how to integrate other software. ")],-1))),re=T((()=>(0,i._)("a",{href:"https://github.com/gpufit/Comet/blob/master/test_dataset/test_dataset_3D.csv",target:"_blank"},"here",-1))),le=T((()=>(0,i._)("pre",null,'              {\n                "dataset_dimension": 3,\n                "segmentation_method": "time",\n                "segmentation_parameter": 200,\n                "max_drift_nm": 300,\n                "initial_gaussian_scale_nm": 30,\n              }\n            ',-1))),de=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'The ".csv" dataset file in a subfolder (e.g. "test_comet/") of "data/"'),(0,i._)("li",null,'The ".yaml" configuration file in a subfolder (e.g. "test_comet/") of "config/"')],-1))),ue=T((()=>(0,i._)("ul",null,[(0,i._)("li",null,'Under "Job Name", enter a name for your job (e.g. "test_comet")'),(0,i._)("li",null,'Under "Application", select "comet" > "latest" > "run"'),(0,i._)("li",null,'Under "Input", select the folder containing the ".yaml" file for "Configuration" and the folder containing the ".csv" file for "Data"')],-1))),ce=(0,i.uE)('<section id="contributing" data-v-118c8152><h2 data-v-118c8152>Contributing</h2><section id="adding-workers" data-v-118c8152><h3 data-v-118c8152>Adding workers</h3><p data-v-118c8152> If you are interested in contributing to DECODE-OpenCloud, you can add workers to the system. Workers are the machines that run the jobs. Our idea is to have a pool of workers that can be dynamically added and removed. In a give-and-take fashion, you can provide workers when you have unused resources and use workers when you need more resources. To add a worker, refer to the <a href="https://ries-lab.github.io/DECODE_Cloud_Documentation/#attaching-compute-power" target="_blank" data-v-118c8152>technical documentation</a>. </p></section><section id="developing" data-v-118c8152><h3 data-v-118c8152>Developing</h3><p data-v-118c8152> If you are interested in helping us develop DECODE OpenCloud please contact us. You can get an idea of how it works by looking at the <a href="https://ries-lab.github.io/DECODE_Cloud_Documentation" target="_blank" data-v-118c8152>technical documentation</a>. </p></section></section>',1);function pe(e,t,o,a,n,s){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",null,[I,(0,i._)("div",null,[(0,i._)("section",A,[q,z,(0,i._)("section",W,[N,(0,i._)("p",null,[(0,i.Uk)(" At "),(0,i.Wm)(r,{to:"/files"},{default:(0,i.w5)((()=>[(0,i.Uk)("Files")])),_:1}),(0,i.Uk)(' you can up- and download files. Navigate around the filesystem by double-clicking on folders and using the "Back" button. Alternatively, you can use the "Path" input field to jump to a specific location. ')]),$,Y,(0,i._)("p",null,[(0,i.Uk)(" Under the "),(0,i.Wm)(r,{to:"/jobs"},{default:(0,i.w5)((()=>[(0,i.Uk)("Jobs")])),_:1}),(0,i.Uk)(" tab, you can view your jobs and send new ones. You can expand on a job's details and delete them. Please note that deleting a job will also delete all its outputs. Deleting a running job will stop it first. ")]),(0,i._)("p",null,[(0,i.Uk)(" Under the "),(0,i.Wm)(r,{to:"/profile"},{default:(0,i.w5)((()=>[(0,i.Uk)("Profile")])),_:1}),(0,i.Uk)(" tab, you can view your profile. ")])]),(0,i._)("section",Z,[R,(0,i.Uk)(" DECODE is a deep learning tool for single molecule localization microscopy. You can read more about it "),H,(0,i.Uk)(". "),(0,i._)("section",L,[B,(0,i._)("p",null,[(0,i.Uk)(" To train a DECODE model, you need to provide a configuration file and a bead calibration file. You can download example data "),K,(0,i.Uk)(". Then: "),(0,i._)("ol",null,[(0,i._)("li",null,[(0,i.Uk)("Upload the input files (go to the "),(0,i.Wm)(r,{to:"/files"},{default:(0,i.w5)((()=>[(0,i.Uk)("Files")])),_:1}),(0,i.Uk)(" tab)")]),G,(0,i._)("li",null,[(0,i.Uk)("Submit a new job (go to the "),(0,i.Wm)(r,{to:"/jobs"},{default:(0,i.w5)((()=>[(0,i.Uk)("Jobs")])),_:1}),(0,i.Uk)(" tab)")]),X]),(0,i.Uk)(' You should now see a new job in the list. You can check its progress and details. Once it finishes running, you will see the trained model under "artifact/job_name/", as well as the logs under "log/job_name/". You can download them if you wish. ')])]),(0,i._)("section",Q,[ee,(0,i._)("p",null,[(0,i.Uk)(" Once you have a trained model, you can use it to fit your data. You can download example data "),te,(0,i.Uk)(". Then: "),(0,i._)("ol",null,[(0,i._)("li",null,[(0,i.Uk)("Upload the input files (go to the "),(0,i.Wm)(r,{to:"/files"},{default:(0,i.w5)((()=>[(0,i.Uk)("Files")])),_:1}),(0,i.Uk)(" tab)")]),oe,(0,i._)("li",null,[(0,i.Uk)("Submit a new job (go to the "),(0,i.Wm)(r,{to:"/jobs"},{default:(0,i.w5)((()=>[(0,i.Uk)("Jobs")])),_:1}),(0,i.Uk)(" tab)")]),ae]),(0,i.Uk)(' When the job finishes, you will see the output predictions under "artifact/job_name/". ')])])]),(0,i._)("section",ne,[ie,se,(0,i._)("p",null,[(0,i.Uk)(' To run COMET, you need to specify some input parameters and provide a ".csv" dataset. You can download example data provided by COMET\'s developers '),re,(0,i.Uk)('. For DECODE-OpenCloud, you will need to specify the input parameters in a configuration file. For the example data linked above, such a configuration file (e.g. "test_dataset.yaml") will look something like: '),le,(0,i.Uk)(" To run COMET: "),(0,i._)("ol",null,[(0,i._)("li",null,[(0,i.Uk)("Upload the input files (go to the "),(0,i.Wm)(r,{to:"/files"},{default:(0,i.w5)((()=>[(0,i.Uk)("Files")])),_:1}),(0,i.Uk)(" tab)")]),de,(0,i._)("li",null,[(0,i.Uk)("Submit a new job (go to the "),(0,i.Wm)(r,{to:"/jobs"},{default:(0,i.w5)((()=>[(0,i.Uk)("Jobs")])),_:1}),(0,i.Uk)(" tab)")]),ue]),(0,i.Uk)(' Once it finishes running, you will see the drift estimates under "output/job_name/". You can download them if you wish. ')])])]),ce])])}var me=(0,i.aZ)({name:"HomeView",computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}}});const he=(0,F.Z)(me,[["render",pe],["__scopeId","data-v-118c8152"]]);var fe=he,be=o(7139);const ge={class:"mb-3"},_e=(0,i._)("label",{for:"username",class:"form-label"},"Email address:",-1),we={class:"mb-3"},ye=(0,i._)("label",{for:"password",class:"form-label"},"Password:",-1),ve={class:"mb-3"},ke=(0,i._)("label",{for:"repeat_password",class:"form-label"},"Repeat password:",-1),Ue={class:"mb-3"},Ce=(0,i._)("label",{for:"request_details",class:"form-label"},"Request details:",-1),je=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Send verification code",-1),De={key:0,class:"error"};function Ee(e,t,o,n,s,r){return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("form",{onSubmit:t[4]||(t[4]=(0,a.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,i._)("div",ge,[_e,(0,i.wy)((0,i._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[a.nr,e.form.username]])]),(0,i._)("div",we,[ye,(0,i.wy)((0,i._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),class:"form-control"},null,512),[[a.nr,e.form.password]])]),(0,i._)("div",ve,[ke,(0,i.wy)((0,i._)("input",{type:"password",name:"repeat_password","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.repeat_password=t),class:"form-control"},null,512),[[a.nr,e.form.repeat_password]])]),(0,i._)("div",Ue,[Ce,(0,i.wy)((0,i._)("textarea",{name:"request_details","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.request_details=t),class:"form-control",maxlength:"2000"},null,512),[[a.nr,e.form.request_details]])]),je,e.errorMessage?((0,i.wg)(),(0,i.iD)("div",De,(0,be.zw)(e.errorMessage),1)):(0,i.kq)("",!0)],32)])}var Fe=(0,i.aZ)({name:"Register",data(){return{form:{username:"",password:"",repeat_password:"",request_details:""},errorMessage:""}},methods:{...(0,d.nv)(["register"]),async submit(){if(this.form.password===this.form.repeat_password)try{await this.register({username:this.form.username,password:this.form.password,request_details:this.form.request_details?this.form.request_details:"none"}),this.$router.push("/confirm-email/"+this.form.username)}catch(e){"UserNotConfirmedException"===e.code&&this.$router.push("/confirm-email/"+this.form.username),console.log(e),this.errorMessage=e}else this.errorMessage="Passwords do not match"}}});const Me=(0,F.Z)(Fe,[["render",Ee]]);var Oe=Me;const Ve={class:"mb-3"},Pe=(0,i._)("label",{for:"verificationCode",class:"form-label"},"Verification code:",-1),xe=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Verify email",-1),Je={key:0,class:"error"};function Se(e,t,o,n,s,r){return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,i._)("div",Ve,[Pe,(0,i.wy)((0,i._)("input",{type:"text",name:"verificationCode","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.verificationCode=t),class:"form-control"},null,512),[[a.nr,e.form.verificationCode]]),(0,i._)("a",{href:"#",onClick:t[1]||(t[1]=(0,a.iM)(((...t)=>e.resendVerificationCode&&e.resendVerificationCode(...t)),["prevent"])),class:"btn btn-link"},"Re-send verification code")]),xe,e.errorMessage?((0,i.wg)(),(0,i.iD)("div",Je,(0,be.zw)(e.errorMessage),1)):(0,i.kq)("",!0)],32)])}var Te=(0,i.aZ)({name:"ConfirmEmail",data(){return{form:{verificationCode:""},username:"",errorMessage:""}},created(){this.username=this.$route.params.username},methods:{...(0,d.nv)(["verify","sendConfirmationCode"]),async submit(){try{await this.verify({username:this.username,code:this.form.verificationCode}),this.$router.push("/user-not-confirmed")}catch(e){console.log(e),this.errorMessage=e}},async resendVerificationCode(){try{await this.sendConfirmationCode(this.username)}catch(e){console.log(e),this.errorMessage=e}}}});const Ie=(0,F.Z)(Te,[["render",Se]]);var Ae=Ie;function qe(e,t,o,a,n,s){return(0,i.wg)(),(0,i.iD)("section",null," Your account has still not been accepted by an administrator. ")}var ze=(0,i.aZ)({name:"UserNotConfirmed"});const We=(0,F.Z)(ze,[["render",qe]]);var Ne=We;const $e={class:"mb-3"},Ye=(0,i._)("label",{for:"username",class:"form-label"},"Email address:",-1),Ze={class:"mb-3"},Re=(0,i._)("label",{for:"password",class:"form-label"},"Password:",-1),He=(0,i._)("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),Le={key:0,class:"error"};function Be(e,t,o,n,s,r){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,i._)("div",$e,[Ye,(0,i.wy)((0,i._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[a.nr,e.form.username]])]),(0,i._)("div",Ze,[Re,(0,i.wy)((0,i._)("input",{type:"password",name:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.password=t),class:"form-control"},null,512),[[a.nr,e.form.password]])]),(0,i._)("div",null,[(0,i.Wm)(l,{to:"/forgot-password",class:"btn btn-link"},{default:(0,i.w5)((()=>[(0,i.Uk)("Forgot password?")])),_:1})]),He,e.errorMessage?((0,i.wg)(),(0,i.iD)("div",Le,(0,be.zw)(e.errorMessage),1)):(0,i.kq)("",!0)],32)])}var Ke=(0,i.aZ)({name:"Login",data(){return{form:{username:"",password:""},errorMessage:""}},methods:{...(0,d.nv)(["logIn"]),async submit(){try{await this.logIn({username:this.form.username,password:this.form.password}),this.$router.push("/")}catch(e){"UserNotConfirmedException"===e.code?this.$router.push("/confirm-email/"+this.form.username):(console.log(e),this.errorMessage=e)}}}});const Ge=(0,F.Z)(Ke,[["render",Be]]);var Xe=Ge;const Qe={key:0,class:"mb-3"},et=(0,i._)("label",{for:"username",class:"form-label"},"Email address:",-1),tt=["disabled"],ot={key:1,class:"mb-3"},at=(0,i._)("label",{for:"code",class:"form-label"},"Verification code:",-1),nt={key:2,class:"mb-3"},it=(0,i._)("label",{for:"password",class:"form-label"},"New password:",-1),st={key:3,class:"mb-3"},rt=(0,i._)("label",{for:"repeat_password",class:"form-label"},"Repeat new password:",-1),lt={key:4,type:"submit",class:"btn btn-primary"},dt={key:5,class:"error"};function ut(e,t,o,n,s,r){return(0,i.wg)(),(0,i.iD)("section",null,[(0,i._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[e.isVerificationCodeSent?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Qe,[et,(0,i.wy)((0,i._)("input",{type:"text",name:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.username=t),class:"form-control"},null,512),[[a.nr,e.form.username]]),(0,i._)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.sendVerificationCode&&e.sendVerificationCode(...t)),class:"btn btn-primary",disabled:e.isVerificationCodeSent},"Send verification code",8,tt)])),e.isVerificationCodeSent?((0,i.wg)(),(0,i.iD)("div",ot,[at,(0,i.wy)((0,i._)("input",{type:"text",name:"code","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.code=t),class:"form-control"},null,512),[[a.nr,e.form.code]])])):(0,i.kq)("",!0),e.isVerificationCodeSent?((0,i.wg)(),(0,i.iD)("div",nt,[it,(0,i.wy)((0,i._)("input",{type:"password",name:"password","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.password=t),class:"form-control"},null,512),[[a.nr,e.form.password]])])):(0,i.kq)("",!0),e.isVerificationCodeSent?((0,i.wg)(),(0,i.iD)("div",st,[rt,(0,i.wy)((0,i._)("input",{type:"password",name:"repeat_password","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.repeat_password=t),class:"form-control"},null,512),[[a.nr,e.form.repeat_password]])])):(0,i.kq)("",!0),e.isVerificationCodeSent?((0,i.wg)(),(0,i.iD)("button",lt,"Save")):(0,i.kq)("",!0),e.errorMessage?((0,i.wg)(),(0,i.iD)("div",dt,(0,be.zw)(e.errorMessage),1)):(0,i.kq)("",!0)],32)])}var ct=(0,i.aZ)({name:"ForgotPassword",data(){return{form:{username:"",code:"",password:"",repeat_password:""},errorMessage:"",isVerificationCodeSent:!1}},methods:{...(0,d.nv)(["forgotPassword","resetPassword","logIn"]),async submit(){if(this.form.password===this.form.repeat_password)try{console.log("view",this.form.username,this.form.code,this.form.password),await this.resetPassword({username:this.form.username,code:this.form.code,password:this.form.password}),await this.logIn({username:this.form.username,password:this.form.password}),this.$router.push("/")}catch(e){console.log(e),this.errorMessage=e}else this.errorMessage="Passwords do not match"},async sendVerificationCode(){try{await this.forgotPassword(this.form.username),this.isVerificationCodeSent=!0}catch(e){console.log(e),this.errorMessage=e}}}});const pt=(0,F.Z)(ct,[["render",ut]]);var mt=pt;const ht=(0,i._)("h1",null,"Files",-1),ft=["disabled"],bt={key:0},gt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Type"),(0,i._)("th",null,"Name"),(0,i._)("th",null,"Size")])],-1),_t=["onDblclick"],wt=["value","onChange"],yt=["onClick"],vt=["onClick"],kt={key:0,class:"error-message"};function Ut(e,t,o,n,s,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[ht,(0,i._)("div",null,[(0,i._)("header",null,[(0,i._)("button",{onClick:t[0]||(t[0]=(...t)=>e.goUp&&e.goUp(...t)),disabled:""===e.path},"Back",8,ft),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.path=t),placeholder:"Path"},null,512),[[a.nr,e.path]]),(0,i._)("button",{class:"btn-flat",onClick:t[2]||(t[2]=(...t)=>e.createFolder&&e.createFolder(...t))},"Create Folder"),(0,i._)("button",{onClick:t[3]||(t[3]=(...t)=>e.uploadSingleFile&&e.uploadSingleFile(...t))},"Upload File"),(0,i._)("button",{onClick:t[4]||(t[4]=(...t)=>e.uploadDirectory&&e.uploadDirectory(...t))},"Upload Directory"),e.uploadingFile?((0,i.wg)(),(0,i.iD)("p",bt,"Uploading: "+(0,be.zw)(e.uploadingFile),1)):(0,i.kq)("",!0),(0,i._)("input",{type:"file",id:"fileInput",onChange:t[5]||(t[5]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32),(0,i._)("input",{type:"file",id:"directoryInput",webkitdirectory:"",multiple:"",onChange:t[6]||(t[6]=(...t)=>e.handleUpload&&e.handleUpload(...t)),style:{display:"none"}},null,32)]),(0,i._)("main",null,[(0,i._)("table",null,[gt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.files,((t,o)=>((0,i.wg)(),(0,i.iD)("tr",{key:o,onDblclick:a=>e.openAction(o,t)},[(0,i._)("td",null,(0,be.zw)(t.type),1),(0,i._)("td",null,[(0,i._)("input",{type:"text",value:t.path.replace(this.path,""),onChange:o=>e.renameItem(t.path,o.target.value)},null,40,wt)]),(0,i._)("td",null,(0,be.zw)("directory"===t.type?"-":t.size),1),(0,i._)("td",null,[(0,i._)("button",{onClick:o=>e.deleteItem(t.path)},"Delete",8,yt)]),(0,i._)("td",null,[(0,i._)("button",{onClick:o=>e.downloadItem(t)},"Download",8,vt)])],40,_t)))),128))])])])]),e.errorMessage?((0,i.wg)(),(0,i.iD)("p",kt,(0,be.zw)(e.errorMessage),1)):(0,i.kq)("",!0)],64)}o(8858),o(1318),o(3228);var Ct=o(4730),jt=o.n(Ct),Dt={async getFiles(e){return e=e||"/",await ca.get(`/files/${e}?show_dirs=True&recursive=False`)},async createFolder(e){return await ca.post(`/files/${e}/`)},async uploadFile(e,t){let o=await ca.post(`/files/${e}url`),a=new FormData;"key"in o.data["data"]&&a.append("key",o.data["data"]["key"]);for(let n in o.data["data"])"key"!==n&&a.append(n,o.data["data"][n]);for(let n of t.entries())a.append(n[0],n[1]);return await n.Z.post(o.data.url,a,{headers:o.data.headers||{}})},async deleteItem(e){return await ca.delete(`/files/${e}`)},async renameItem(e,t){return await ca.put(`/files/${e}`,{path:t})},async downloadFile(e){let t=await ca.get(`/files/${e}/url`);return await n.Z.get(t.data.url,{headers:t.data.headers||{},responseType:"arraybuffer"})},async downloadItem(e){const t=e.path;if("directory"===e.type){let o=new(jt()),a=await ca.get(`/files/${t}`,{params:{show_dirs:!1,recursive:!0}});for(let t of a.data){let a=await this.downloadFile(t.path);o.file(t.path.replace(e.path,""),a.data)}let n=await o.generateAsync({type:"blob"});const i=window.URL.createObjectURL(n),s=document.createElement("a");s.href=i;let r=t.split("/");s.setAttribute("download",r[r.length-2]+".zip"),document.body.appendChild(s),s.click()}else{let e=await this.downloadFile(t);const o=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=o,a.setAttribute("download",t.split("/").pop()),document.body.appendChild(a),a.click()}}},Et=(0,i.aZ)({name:"FilesView",data(){return{path:"",files:[],uploadingFile:null,errorMessage:""}},methods:{openAction:function(e,t){"directory"===t.type&&(this.path=t.path,this.fetchFiles())},fetchFiles(){Dt.getFiles(this.path).then((e=>{this.files=e.data})).catch((e=>{this.errorMessage="Error fetching files: "+e.message}))},goUp(){let e=this.path.trimEnd("/").split("/").filter(Boolean);e.pop(),this.path=e.join("/"),""!=this.path&&(this.path=this.path+"/"),this.fetchFiles()},createFolder(){Dt.createFolder(this.path+"new").then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error creating folder: "+e.message}))},uploadSingleFile(){document.getElementById("fileInput").click()},uploadDirectory(){document.getElementById("directoryInput").click()},handleUpload(e){const t=e.target.files;for(let o=0;o<t.length;o++){let e=t[o],a=e.webkitRelativePath||e.name,n=a.split("/");n.pop();let i=n.join("/")+"/";this.uploadFile(e,this.path+i)}},uploadFile(e,t){this.uploadingFile=e.name;let o=new FormData;o.append("file",e),Dt.uploadFile(t,o).then((()=>{this.fetchFiles(),this.uploadingFile=null})).catch((e=>{this.uploadingFile=null,this.errorMessage="Error uploading: "+e.message}))},downloadItem(e){Dt.downloadItem(e).catch((e=>{this.errorMessage="Error downloading: "+e.message}))},deleteItem(e){Dt.deleteItem(e).then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error deleting: "+e.message}))},renameItem(e,t){let o=this.path.trimEnd("/")+"/"+t;Dt.renameItem(e,o).then((()=>{this.fetchFiles()})).catch((e=>{this.errorMessage="Error renaming: "+e.message}))}},mounted(){this.fetchFiles()}});const Ft=(0,F.Z)(Et,[["render",Ut]]);var Mt=Ft;const Ot=(0,i._)("h1",null,"Your Profile",-1),Vt=(0,i._)("hr",null,null,-1),Pt=(0,i._)("br",null,null,-1),xt=(0,i._)("strong",null,"Email address:",-1),Jt=(0,i._)("strong",null,"Groups:",-1);function St(e,t,o,a,n,s){return(0,i.wg)(),(0,i.iD)("section",null,[Ot,Vt,Pt,(0,i._)("div",null,[(0,i._)("p",null,[xt,(0,i.Uk)(),(0,i._)("span",null,(0,be.zw)(e.user.email),1)]),(0,i._)("p",null,[Jt,(0,i.Uk)(),(0,i._)("span",null,(0,be.zw)(e.user.groups),1)])])])}var Tt=(0,i.aZ)({name:"Profile",created:function(){return this.$store.dispatch("viewMe")},computed:{...(0,d.Se)({user:"stateUser"})},methods:{}});const It=(0,F.Z)(Tt,[["render",St]]);var At=It;const qt={class:"job-list-section"},zt=(0,i._)("h1",null,"Jobs",-1),Wt=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Job Name"),(0,i._)("th",null,"Status"),(0,i._)("th",null,"Creation Time"),(0,i._)("th",null,"Application"),(0,i._)("th",null,"Actions")])],-1),Nt=["onClick"],$t=["onClick"],Yt=["disabled"],Zt=["disabled"],Rt={key:0,class:"job-details-section"},Ht=(0,i._)("h2",null,"Job Details",-1);function Lt(e,t,o,a,n,s){const r=(0,i.up)("job-details-tree");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",qt,[zt,(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>s.goToJobCreationForm&&s.goToJobCreationForm(...e)),style:{"margin-bottom":"10px"}},"+New Job"),(0,i._)("table",null,[Wt,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.jobs,(e=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,be.zw)(e.job_name),1),(0,i._)("td",null,(0,be.zw)(e.status),1),(0,i._)("td",null,(0,be.zw)(e.date_created),1),(0,i._)("td",null,(0,be.zw)(e.application.application)+" > "+(0,be.zw)(e.application.version)+" > "+(0,be.zw)(e.application.entrypoint),1),(0,i._)("td",null,[(0,i._)("button",{onClick:t=>s.getJobDetails(e.id)},"Details",8,Nt),(0,i._)("button",{onClick:t=>s.deleteJob(e.id)},"Delete",8,$t)])])))),128))])]),(0,i._)("button",{onClick:t[1]||(t[1]=e=>s.changePage(n.currentPage-1)),disabled:n.currentPage<=1},"Previous",8,Yt),(0,i._)("button",{onClick:t[2]||(t[2]=e=>s.changePage(n.currentPage+1)),disabled:!n.canGoToNextPage},"Next",8,Zt)]),n.selectedJob?((0,i.wg)(),(0,i.iD)("div",Rt,[Ht,(0,i.Wm)(r,{data:n.selectedJob},null,8,["data"])])):(0,i.kq)("",!0)])}var Bt={async createJob(e){return await ca.post("/jobs",e)},async getJobs(e,t){return await ca.get(`/jobs?offset=${e}&limit=${t}`)},async getJobDetails(e){return await ca.get(`/jobs/${e}`)},async deleteJob(e){return await ca.delete(`/jobs/${e}`)},async getApplications(){return await ca.get("/jobs/applications")}};const Kt={key:0,class:"tree-node"},Gt=["onClick"],Xt={class:"toggle-icon"},Qt={key:1,class:"tree-item-row"},eo={class:"tree-item-value"},to={key:2,class:"tree-item-content"};function oo(e,t,o,a,n,s){const r=(0,i.up)("job-details-tree",!0);return s.isObject(o.data)?((0,i.wg)(),(0,i.iD)("div",Kt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"tree-item"},[s.isObject(e)?((0,i.wg)(),(0,i.iD)("div",{key:0,onClick:e=>s.toggle(t),class:"tree-item-label"},[(0,i._)("span",Xt,(0,be.zw)(s.isExpanded(t)?"-":"+"),1),(0,i._)("strong",null,(0,be.zw)(t)+":",1)],8,Gt)):((0,i.wg)(),(0,i.iD)("div",Qt,[(0,i._)("strong",null,(0,be.zw)(t)+":",1),(0,i._)("div",eo,(0,be.zw)(e),1)])),s.isObject(e)&&s.isExpanded(t)?((0,i.wg)(),(0,i.iD)("div",to,[(0,i.Wm)(r,{data:e},null,8,["data"])])):(0,i.kq)("",!0)])))),128))])):(0,i.kq)("",!0)}var ao={name:"JobDetailsTree",props:{data:[Object,Array,String,Number,Boolean]},data(){return{expandedNodes:{}}},methods:{isObject(e){return e&&"object"===typeof e},toggle(e){this.expandedNodes[e]=!this.expandedNodes[e]},isExpanded(e){return!!this.expandedNodes[e]}}};const no=(0,F.Z)(ao,[["render",oo]]);var io=no,so={data(){return{jobs:[],selectedJob:null,currentPage:1,limit:20,canGoToNextPage:!0}},methods:{goToJobCreationForm(){this.$router.push("/jobs/new")},async fetchJobs(){try{const e=(this.currentPage-1)*this.limit,t=await Bt.getJobs(e,this.limit);this.jobs=t.data,this.canGoToNextPage=this.jobs.length===this.limit}catch(e){console.error(e)}},async getJobDetails(e){try{const t=await Bt.getJobDetails(e);this.selectedJob=t.data}catch(t){console.error(t)}},async deleteJob(e){try{await Bt.deleteJob(e),this.fetchJobs()}catch(t){console.error(t)}},changePage(e){e<1||(this.currentPage=e,this.fetchJobs())}},components:{JobDetailsTree:io},mounted(){this.fetchJobs()}};const ro=(0,F.Z)(so,[["render",Lt]]);var lo=ro;const uo=e=>((0,i.dD)("data-v-7d969c12"),e=e(),(0,i.Cn)(),e),co={class:"form-group"},po=uo((()=>(0,i._)("h2",null,"Submit New Job",-1))),mo=uo((()=>(0,i._)("label",{class:"form-label",for:"jobName"},"Job Name",-1))),ho=uo((()=>(0,i._)("label",{class:"form-label"},"Application",-1))),fo={class:"sub-group"},bo=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Application",-1))),go=["value"],_o=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Version",-1))),wo=["value"],yo=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Entrypoint",-1))),vo=["value"],ko={class:"form-group"},Uo=uo((()=>(0,i._)("label",{class:"form-label"},"Input",-1))),Co={class:"sub-group"},jo=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Configuration",-1))),Do=["value"],Eo={class:"sub-group",style:{display:"flex","align-items":"center"}},Fo=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Data",-1))),Mo={class:"sub-group",style:{display:"flex","align-items":"center"}},Oo=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Artifacts",-1))),Vo={class:"sub-group",style:{display:"flex","align-items":"center"}},Po=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Environment Variables",-1))),xo={class:"form-subsublabel"},Jo=["placeholder","onUpdate:modelValue"],So={class:"form-group"},To=uo((()=>(0,i._)("label",{class:"form-label"},"Runtime",-1))),Io={class:"sub-group"},Ao=uo((()=>(0,i._)("label",{class:"form-sublabel"},"Hardware Specs",-1))),qo={class:"sub-group"},zo=uo((()=>(0,i._)("label",{class:"form-sublabel",for:"environment"},"Environment",-1))),Wo=uo((()=>(0,i._)("option",{disabled:"",value:""},"Select environment",-1))),No=uo((()=>(0,i._)("option",{value:"cloud"},"cloud",-1))),$o=uo((()=>(0,i._)("option",{value:"local"},"local",-1))),Yo=uo((()=>(0,i._)("option",{value:"null"},"any",-1))),Zo=[Wo,No,$o,Yo],Ro={class:"sub-group"},Ho=uo((()=>(0,i._)("label",{class:"form-sublabel",for:"priority"},"Priority",-1))),Lo=uo((()=>(0,i._)("button",{type:"submit"},"Submit Job",-1))),Bo=["innerHTML"];function Ko(e,t,o,n,s,r){const l=(0,i.up)("b-form-select");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("form",{onSubmit:t[16]||(t[16]=(0,a.iM)(((...e)=>r.submitJob&&r.submitJob(...e)),["prevent"]))},[(0,i._)("div",co,[po,(0,i._)("div",null,[mo,(0,i.wy)((0,i._)("input",{type:"text",id:"jobName","onUpdate:modelValue":t[0]||(t[0]=e=>s.job.job_name=e)},null,512),[[a.nr,s.job.job_name]])]),(0,i._)("div",null,[ho,(0,i._)("div",fo,[bo,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.job.application.application=e),onChange:t[2]||(t[2]=(...e)=>r.fetchVersions&&r.fetchVersions(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.applications,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,be.zw)(t),9,go)))),128))],544),[[a.bM,s.job.application.application]]),_o,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.job.application.version=e),onChange:t[4]||(t[4]=(...e)=>r.fetchEntrypoints&&r.fetchEntrypoints(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.versions,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,be.zw)(t),9,wo)))),128))],544),[[a.bM,s.job.application.version]]),yo,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.job.application.entrypoint=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.entrypoints,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,be.zw)(t),9,vo)))),128))],512),[[a.bM,s.job.application.entrypoint]])])])]),(0,i._)("div",ko,[Uo,(0,i._)("div",Co,[jo,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>s.job.attributes.files_down.config_id=e)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.configFiles,((e,t)=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:e},(0,be.zw)(e),9,Do)))),128))],512),[[a.bM,s.job.attributes.files_down.config_id]])]),(0,i._)("div",Eo,[Fo,(0,i.Wm)(l,{modelValue:s.job.attributes.files_down.data_ids,"onUpdate:modelValue":t[7]||(t[7]=e=>s.job.attributes.files_down.data_ids=e),options:s.dataFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,i._)("div",Mo,[Oo,(0,i.Wm)(l,{modelValue:s.job.attributes.files_down.artifact_ids,"onUpdate:modelValue":t[8]||(t[8]=e=>s.job.attributes.files_down.artifact_ids=e),options:s.artifactFiles,multiple:"",style:{width:"200px"}},null,8,["modelValue","options"])]),(0,i._)("div",Vo,[Po,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.environs,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("label",xo,(0,be.zw)(e),1),(0,i.wy)((0,i._)("input",{type:"text",placeholder:e,"onUpdate:modelValue":t=>s.job.attributes.env_vars[e]=t},null,8,Jo),[[a.nr,s.job.attributes.env_vars[e]]])])))),128))])]),(0,i._)("div",So,[To,(0,i._)("div",Io,[Ao,(0,i.wy)((0,i._)("input",{type:"number",placeholder:"CPU Cores","onUpdate:modelValue":t[9]||(t[9]=e=>s.job.hardware.cpu_cores=e)},null,512),[[a.nr,s.job.hardware.cpu_cores,void 0,{number:!0}]]),(0,i.wy)((0,i._)("input",{type:"number",placeholder:"Memory","onUpdate:modelValue":t[10]||(t[10]=e=>s.job.hardware.memory=e)},null,512),[[a.nr,s.job.hardware.memory,void 0,{number:!0}]]),(0,i.wy)((0,i._)("input",{type:"text",placeholder:"GPU Model","onUpdate:modelValue":t[11]||(t[11]=e=>s.job.hardware.gpu_model=e)},null,512),[[a.nr,s.job.hardware.gpu_model]]),(0,i.wy)((0,i._)("input",{type:"text",placeholder:"GPU Architecture","onUpdate:modelValue":t[12]||(t[12]=e=>s.job.hardware.gpu_archi=e)},null,512),[[a.nr,s.job.hardware.gpu_archi]]),(0,i.wy)((0,i._)("input",{type:"number",placeholder:"GPU Memory","onUpdate:modelValue":t[13]||(t[13]=e=>s.job.hardware.gpu_mem=e)},null,512),[[a.nr,s.job.hardware.gpu_mem,void 0,{number:!0}]])]),(0,i._)("div",qo,[zo,(0,i.wy)((0,i._)("select",{id:"environment","onUpdate:modelValue":t[14]||(t[14]=e=>s.job.environment=e)},Zo,512),[[a.bM,s.job.environment]])]),(0,i._)("div",Ro,[Ho,(0,i.wy)((0,i._)("input",{type:"number",id:"priority","onUpdate:modelValue":t[15]||(t[15]=e=>s.job.priority=e)},null,512),[[a.nr,s.job.priority,void 0,{number:!0}]])])]),Lo],32),s.errorMessage?((0,i.wg)(),(0,i.iD)("div",{key:0,innerHTML:s.errorMessage,class:"error-message"},null,8,Bo)):(0,i.kq)("",!0)],64)}var Go=o(2026),Xo={data(){return{job:{job_name:null,environment:null,priority:null,application:{application:null,version:null,entrypoint:null},attributes:{files_down:{config_id:null,data_ids:[],artifact_ids:[]},env_vars:{}},hardware:{cpu_cores:null,memory:null,gpu_model:null,gpu_archi:null,gpu_mem:null}},applications:{},versions:{},entrypoints:{},environs:{},configFiles:[],dataFiles:[],artifactFiles:[],errorMessage:null}},components:{BFormSelect:Go.KB},methods:{async fetchApplications(){const e=await Bt.getApplications();this.applications=e.data},fetchVersions(){""!=this.job.application.application&&(this.versions=this.applications[this.job.application.application])},fetchEntrypoints(){""!=this.job.application.version&&(this.entrypoints=this.versions[this.job.application.version])},fetchEnvirons(){""!=this.job.application.entrypoint&&(this.environs=this.entrypoints[this.job.application.entrypoint]["app"]["env"])},async fetchInputFiles(){const e=await Dt.getFiles("config/");this.configFiles=e.data.map((e=>e.path.replace("config/","")));const t=await Dt.getFiles("data/");this.dataFiles=t.data.map((e=>e.path.replace("data/","")));const o=await Dt.getFiles("artifact/");this.artifactFiles=o.data.map((e=>e.path.replace("artifact/","")))},submitJob(){Bt.createJob(this.job).then((()=>{this.$router.push("/jobs")})).catch((e=>{422===e.response.status?this.errorMessage="Error(s) in job definition:"+e.response.data.detail.map((e=>{const t=e.loc.filter((e=>"body"!==e)).join(".");return`<br> - ${t}: ${e.msg}`})).join(""):this.errorMessage=e.response.data.detail}))}},watch:{"job.application.application":function(e,t){e!==t&&this.fetchVersions()},"job.application.version":function(e,t){e!==t&&this.fetchEntrypoints()},"job.application.entrypoint":function(e,t){e!==t&&this.fetchEnvirons()}},created(){this.fetchApplications(),this.fetchInputFiles()}};const Qo=(0,F.Z)(Xo,[["render",Ko],["__scopeId","data-v-7d969c12"]]);var ea=Qo;const ta={user:null},oa={isAuthenticated:e=>!!e.user,stateUser:e=>e.user},aa={async logIn({dispatch:e},t){await S.g.signIn({username:t.username,password:t.password}),e("viewMe")},async viewMe({commit:e}){try{let{data:t}=await ca.get("user");await e("setUser",t)}catch(t){t.response&&403==t.response.status?da.push("/user-not-confirmed"):Promise.reject(t)}},async logOut({commit:e}){await S.g.signOut(),await e("logout",null)},async forgotPassword(e,t){await S.g.forgotPassword(t)},async resetPassword(e,t){await S.g.forgotPasswordSubmit(t.username,t.code,t.password)},async register(e,t){await S.g.signUp({username:t.username,password:t.password,attributes:{email:t.username,"custom:request_details":t.request_details}})},async sendConfirmationCode(e,t){await S.g.resendSignUp(t)},async verify(e,t){await S.g.confirmSignUp(t.username,t.code)}},na={setUser(e,t){e.user=t},logout(e,t){e.user=t}};var ia={state:ta,getters:oa,actions:aa,mutations:na},sa=(0,d.MT)({modules:{users:ia}});const ra=[{path:"/",name:"Home",component:fe},{path:"/register",name:"Register",component:Oe},{path:"/confirm-email/:username",name:"ConfirmEmail",component:Ae},{path:"/user-not-confirmed",name:"UserNotConfirmed",component:Ne},{path:"/login",name:"Login",component:Xe},{path:"/forgot-password",name:"ForgotPassword",component:mt},{path:"/files",name:"Files",component:Mt,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:At,meta:{requiresAuth:!0}},{path:"/jobs",name:"Jobs",component:lo,meta:{requiresAuth:!0}},{path:"/jobs/new",name:"JobCreation",component:ea,meta:{requiresAuth:!0}}],la=(0,u.p7)({history:(0,u.r5)(),routes:ra});la.beforeEach(((e,t,o)=>{if(e.matched.some((e=>e.meta.requiresAuth))){if(sa.getters.isAuthenticated)return void o();o("/login")}else o()}));var da=la;const ua={NODE_ENV:"production",BASE_URL:"/DECODE_Cloud_UserFrontend/"}.VUE_APP_API_URL||"https://prod.api.decode.arthur-jaques.de",ca=n.Z.create({baseURL:ua});async function pa(){try{let e=await ca.get("/access_info"),t=e.data.cognito;J.d.configure({Auth:{userPoolId:t.user_pool_id,userPoolWebClientId:t.client_id,region:t.region,authenticationFlowType:"USER_PASSWORD_AUTH"}}),ca.interceptors.request.use((async e=>{try{const t=await S.g.currentSession(),o=t.getIdToken().getJwtToken();e.headers.Authorization=`Bearer ${o}`}catch(t){return await sa.dispatch("logOut"),da.push("/login"),Promise.reject(t)}return e}),(async e=>e.response&&401===e.response.status?(await sa.dispatch("logOut"),da.push("/login"),Promise.reject(e)):Promise.reject(e)));const o=(0,a.ri)(x);o.use(da),o.use(sa),o.mount("#app")}catch(e){console.error("Error during app initialization:",e)}}pa()},6249:function(){}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.m=e,function(){var e=[];o.O=function(t,a,n,i){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],i=e[u][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(r=!1,i<s&&(s=i));if(r){e.splice(u--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,n,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,i,s=a[0],r=a[1],l=a[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var u=l(o)}for(t&&t(a);d<s.length;d++)i=s[d],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},a=self["webpackChunkDECODE_Cloud_UserFrontend"]=self["webpackChunkDECODE_Cloud_UserFrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(2624)}));a=o.O(a)})();
//# sourceMappingURL=app.882d941b.js.map